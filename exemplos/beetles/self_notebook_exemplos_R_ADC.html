<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Allan Vieira 14/0128492" />


<title>Exemplos de Regressão Logística em R</title>

<script src="self_notebook_exemplos_R_ADC_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="self_notebook_exemplos_R_ADC_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="self_notebook_exemplos_R_ADC_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="self_notebook_exemplos_R_ADC_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="self_notebook_exemplos_R_ADC_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="self_notebook_exemplos_R_ADC_files/navigation-1.1/tabsets.js"></script>
<link href="self_notebook_exemplos_R_ADC_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="self_notebook_exemplos_R_ADC_files/highlightjs-9.12.0/highlight.js"></script>
<link href="self_notebook_exemplos_R_ADC_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="self_notebook_exemplos_R_ADC_files/pagedtable-1.1/js/pagedtable.js"></script>
<script src="self_notebook_exemplos_R_ADC_files/htmlwidgets-1.0/htmlwidgets.js"></script>
<script src="self_notebook_exemplos_R_ADC_files/plotly-binding-4.7.1/plotly.js"></script>
<script src="self_notebook_exemplos_R_ADC_files/typedarray-0.1/typedarray.min.js"></script>
<link href="self_notebook_exemplos_R_ADC_files/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="self_notebook_exemplos_R_ADC_files/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="self_notebook_exemplos_R_ADC_files/plotlyjs-1.29.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="self_notebook_exemplos_R_ADC_files/plotlyjs-1.29.2/plotly-latest.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Exemplos de Regressão Logística em R</h1>
<h3 class="subtitle"><em>Análise de Dados Categorizados</em></h3>
<h4 class="author"><em>Allan Vieira 14/0128492</em></h4>
<h4 class="date"><em>May 8, 2018</em></h4>

</div>


<!-- self_contained: false --- para nao dar pau do plotly com firefox -->
<!-- df_print para as formas de imprimir data frames e tibbles -->
<!-- ver https://rmarkdown.rstudio.com/html_document_format.html -->
<!-- incluir no cabecalho: -->
<!-- always_allow_html: yes  -->
<!--para quando formos passar para pdf -->
<style>
body {
text-align: justify}
</style>
<!-- para justificar texto no markdown -->
<!-- https://stackoverflow.com/questions/43222169/how-to-justify-the-text-to-both-sides-when-knitting-html-in-rmarkdown -->
<!-- <style> -->
<!--   .col2 { -->
<!--     columns: 2 200px;         /* number of columns and width in pixels*/ -->
<!--     -webkit-columns: 2 200px; /* chrome, safari */ -->
<!--     -moz-columns: 2 200px;    /* firefox */ -->
<!--   } -->
<!--   .col3 { -->
<!--     columns: 3 100px; -->
<!--     -webkit-columns: 3 100px; -->
<!--     -moz-columns: 3 100px; -->
<!--   } -->
<!-- </style> -->
<!-- esse de cima funciona no output do RStudio, mas nao nos browsers -->
<!-- tb em: https://stackoverflow.com/questions/31753897/2-column-section-in-r-markdown -->
<hr />
<hr />
<div id="exemplo-das-abelhas" class="section level3">
<h3>1. Exemplo das Abelhas</h3>
<hr />
<div id="i-ajuste-do-modelo" class="section level4">
<h4><strong>i) ajuste do modelo</strong></h4>
<p><strong>Preparação dos dados</strong>:</p>
<pre class="r"><code>dados &lt;- c(1.6907, 6, 59, 1.7242, 13, 60, 1.7552, 18, 62, 1.7842, 28, 56,
             1.8113, 52, 63, 1.8369, 53, 59, 1.8610, 61, 62, 1.8839, 59, 60)

beetles &lt;- matrix(dados, ncol=3, byrow = TRUE)

colnames(beetles) &lt;- c(&quot;dose&quot;, &quot;killed&quot;, &quot;total&quot;)

# criando uma coluna do outro resultado: x = 1 (survived); x = 0 (killed)
beetles &lt;- cbind(beetles, beetles[,&quot;total&quot;] - beetles[,&quot;killed&quot;])
colnames(beetles)[4] &lt;- c(&quot;survived&quot;)

tibble::as.tibble(beetles)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["dose"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["killed"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["total"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["survived"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"1.6907","2":"6","3":"59","4":"53"},{"1":"1.7242","2":"13","3":"60","4":"47"},{"1":"1.7552","2":"18","3":"62","4":"44"},{"1":"1.7842","2":"28","3":"56","4":"28"},{"1":"1.8113","2":"52","3":"63","4":"11"},{"1":"1.8369","2":"53","3":"59","4":"6"},{"1":"1.8610","2":"61","3":"62","4":"1"},{"1":"1.8839","2":"59","3":"60","4":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p></p>
<p><strong>Ajuste do modelo</strong>:</p>
<pre class="r"><code>resposta &lt;- beetles[,c(&quot;killed&quot;, &quot;survived&quot;)]
dose &lt;- beetles[,&quot;dose&quot;]

bee_logit_model &lt;- glm(resposta ~ dose, family=binomial(link=&quot;logit&quot;))

summary(bee_logit_model)</code></pre>
<pre><code>## 
## Call:
## glm(formula = resposta ~ dose, family = binomial(link = &quot;logit&quot;))
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -1.5139  -0.2808   0.5536   1.0175   1.3788  
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)  -59.188      5.053  -11.71   &lt;2e-16 ***
## dose          33.401      2.839   11.76   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 274.8744  on 7  degrees of freedom
## Residual deviance:   8.6398  on 6  degrees of freedom
## AIC: 40.821
## 
## Number of Fisher Scoring iterations: 4</code></pre>
<p></p>
<p><strong>Model Fit Statistics</strong>:</p>
<pre class="r"><code># AIC - no output do modelo ou via:
AIC(bee_logit_model)</code></pre>
<pre><code>## [1] 40.82103</code></pre>
<pre class="r"><code># -2 Log L
-2*logLik(bee_logit_model)</code></pre>
<pre><code>## &#39;log Lik.&#39; 36.82103 (df=2)</code></pre>
<p><strong>Plot da curva logística/modelo:</strong></p>
<pre class="r"><code># plot:
# criando um conjunto com varios nros entre 1.65 e 1.9
# preenchendo todo o range entre valor max e min dos dados para a curva logística ficar suavizada
xx=1.65 +(0:250)/1000 
predictors=coef(bee_logit_model)[1]+coef(bee_logit_model)[2]*xx

# probabilidades e proporções (para o plot)
prob=exp(predictors)/(1+exp(predictors))

prop &lt;- beetles[,&quot;killed&quot;]/ beetles[,&quot;total&quot;]

# com ggplot2
# library(ggplot2)
# ggplot()+
#   geom_point(aes(x=dose, y=prop), colour=&quot;purple&quot;)+
#   geom_line(aes(x=xx, y=prob), colour=&quot;blue&quot;)+
#   ggtitle( &#39;Curva Logística Ajustada&#39; )+
#   theme(plot.title = element_text(hjust=0.5))</code></pre>
<pre class="r"><code># ou com plotly:
library(magrittr)
# pontos e linhas no mesmo plot:
# https://plot.ly/r/line-and-scatter/
p1 &lt;- plotly::plot_ly(x = ~dose, y = ~prop, name = &#39;prop&#39;, type = &#39;scatter&#39;, mode = &#39;markers&#39;) %&gt;%
  plotly::add_trace(x= ~xx, y = ~prob, name = &#39;prob&#39;, mode = &#39;lines&#39;) %&gt;%
  plotly::layout(title = &quot;Curva Logística Ajustada&quot;)

p1</code></pre>
<div id="349163a2575b" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="349163a2575b">{"x":{"visdat":{"34913b35fa3":["function () ","plotlyVisDat"]},"cur_data":"34913b35fa3","attrs":{"34913b35fa3":{"x":{},"y":{},"name":"prop","mode":"markers","alpha":1,"sizes":[10,100],"type":"scatter"},"34913b35fa3.1":{"x":{},"y":{},"name":"prob","mode":"lines","alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Curva Logística Ajustada","xaxis":{"domain":[0,1],"title":"dose"},"yaxis":{"domain":[0,1],"title":"prop"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1.6907,1.7242,1.7552,1.7842,1.8113,1.8369,1.861,1.8839],"y":[0.101694915254237,0.216666666666667,0.290322580645161,0.5,0.825396825396825,0.898305084745763,0.983870967741935,0.983333333333333],"name":"prop","mode":"markers","type":"scatter","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[1.65,1.651,1.652,1.653,1.654,1.655,1.656,1.657,1.658,1.659,1.66,1.661,1.662,1.663,1.664,1.665,1.666,1.667,1.668,1.669,1.67,1.671,1.672,1.673,1.674,1.675,1.676,1.677,1.678,1.679,1.68,1.681,1.682,1.683,1.684,1.685,1.686,1.687,1.688,1.689,1.69,1.691,1.692,1.693,1.694,1.695,1.696,1.697,1.698,1.699,1.7,1.701,1.702,1.703,1.704,1.705,1.706,1.707,1.708,1.709,1.71,1.711,1.712,1.713,1.714,1.715,1.716,1.717,1.718,1.719,1.72,1.721,1.722,1.723,1.724,1.725,1.726,1.727,1.728,1.729,1.73,1.731,1.732,1.733,1.734,1.735,1.736,1.737,1.738,1.739,1.74,1.741,1.742,1.743,1.744,1.745,1.746,1.747,1.748,1.749,1.75,1.751,1.752,1.753,1.754,1.755,1.756,1.757,1.758,1.759,1.76,1.761,1.762,1.763,1.764,1.765,1.766,1.767,1.768,1.769,1.77,1.771,1.772,1.773,1.774,1.775,1.776,1.777,1.778,1.779,1.78,1.781,1.782,1.783,1.784,1.785,1.786,1.787,1.788,1.789,1.79,1.791,1.792,1.793,1.794,1.795,1.796,1.797,1.798,1.799,1.8,1.801,1.802,1.803,1.804,1.805,1.806,1.807,1.808,1.809,1.81,1.811,1.812,1.813,1.814,1.815,1.816,1.817,1.818,1.819,1.82,1.821,1.822,1.823,1.824,1.825,1.826,1.827,1.828,1.829,1.83,1.831,1.832,1.833,1.834,1.835,1.836,1.837,1.838,1.839,1.84,1.841,1.842,1.843,1.844,1.845,1.846,1.847,1.848,1.849,1.85,1.851,1.852,1.853,1.854,1.855,1.856,1.857,1.858,1.859,1.86,1.861,1.862,1.863,1.864,1.865,1.866,1.867,1.868,1.869,1.87,1.871,1.872,1.873,1.874,1.875,1.876,1.877,1.878,1.879,1.88,1.881,1.882,1.883,1.884,1.885,1.886,1.887,1.888,1.889,1.89,1.891,1.892,1.893,1.894,1.895,1.896,1.897,1.898,1.899,1.9],"y":[0.0166855346724879,0.0172424833220319,0.0178176855738824,0.0184117168475925,0.0190251691562486,0.0196586514792589,0.0203127901359327,0.0209882291591833,0.0216856306686356,0.0224056752423519,0.0231490622863334,0.0239165104008751,0.0247087577427961,0.0255265623824743,0.0263707026545534,0.0272419775010927,0.0281412068058555,0.0290692317183348,0.030026914966025,0.0310151411533461,0.0320348170455356,0.0330868718357018,0.0341722573931447,0.0352919484909164,0.0364469430104971,0.0376382621213283,0.0388669504328367,0.0401340761164469,0.041440730994965,0.0427880305965748,0.0441771141705753,0.0456091446618365,0.0470853086408455,0.0486068161860554,0.0501749007151489,0.0517908187616769,0.0534558496934263,0.0551712953687386,0.056938479726894,0.0587587483085553,0.0606334677021826,0.0625640249122113,0.064551826644737,0.0665982985063415,0.0687048841116797,0.0708730440953693,0.0731042550237374,0.0754000082019417,0.0777618083720439,0.0801911722976128,0.0826896272305513,0.085258709255904,0.087899961510567,0.0906149322719659,0.0934051729129905,0.0962722357197024,0.0992176715686456,0.102243027460885,0.105349843910327,0.108539652184253,0.11181397139453,0.115174305438456,0.118622139788826,0.122158938133428,0.125786138864915,0.129505151422726,0.133317352489613,0.137224082046154,0.14122663928766,0.145326278408781,0.14952420426229,0.153821567899533,0.158219462001273,0.162718916208788,0.167320892366392,0.172026279687747,0.176835889859713,0.181750452098694,0.186770608175882,0.19189690742897,0.197129801779332,0.202469640774851,0.207916666679846,0.213471009634697,0.219132682908884,0.224901578272148,0.230777461509425,0.236759968105946,0.24284859912962,0.249042717338241,0.255341543539482,0.261744153231708,0.26824947355368,0.274856280570896,0.281563196925897,0.288368689879092,0.295271069765785,0.302268488893786,0.30935894090464,0.316540260619706,0.32381012439044,0.331166050969956,0.33860540292057,0.346125388569292,0.353723064520422,0.361395338731232,0.369138974153581,0.3769505929408,0.384826681215759,0.392763594392349,0.400757563038999,0.408804699269091,0.416901003639569,0.42504237253526,0.433224606013074,0.441443416076634,0.449694435348852,0.457973226106742,0.466275289640086,0.474596075892975,0.482930993344985,0.491275419086916,0.499624709044386,0.507974208301411,0.516319261475297,0.52465522309374,0.532977467925026,0.541281401212585,0.549562468765935,0.557816166861232,0.566038051906154,0.574223749825693,0.582368965127699,0.590469489609503,0.598521210669724,0.606520119192383,0.614462316973693,0.622344023665277,0.63016158321111,0.637911469759053,0.645590293031582,0.653194803143973,0.660721894861857,0.668168611293716,0.675532147017368,0.682809850642993,0.689999226818356,0.697097937685166,0.704103803798254,0.711014804522039,0.717829077921182,0.724544920164543,0.731160784463556,0.737675279567879,0.744087167842592,0.750395362952542,0.756598927180283,0.76269706840491,0.768689136769499,0.774574621065187,0.780353144859962,0.786024462400117,0.791588454311966,0.797045123130988,0.80239458868484,0.807637083356002,0.812772947248803,0.817802623284676,0.822726652248322,0.827545667806352,0.8322603915187,0.836871627861902,0.841380259281969,0.845787241293323,0.850093597638924,0.854300415525405,0.858408840945741,0.862420074100701,0.866335364929073,0.870156008755486,0.873883342063426,0.877518738400022,0.881063604417986,0.884519376059232,0.887887514883607,0.891169504545383,0.894366847419252,0.897481061376844,0.900513676714021,0.903466233228612,0.906340277447574,0.909137360002108,0.911859033148695,0.914506848433636,0.917082354498271,0.919587095021712,0.922022606797646,0.924390417941524,0.926692046224186,0.928928997527901,0.931102764420556,0.933214824843707,0.93526664091008,0.937259657806099,0.939195302794953,0.941074984315761,0.942900091174385,0.944671991821479,0.946392033713431,0.948061542751916,0.949681822797856,0.951254155255683,0.952779798723891,0.954259988707982,0.955695937392018,0.957088833465122,0.958439841999372,0.959750104375704,0.961020738254495,0.962252837587725,0.963447472669647,0.964605690223108,0.965728513518737,0.966816942524373,0.96787195408223,0.968894502111399,0.969885517833448,0.970845910018954,0.971776565252959,0.972678348217417,0.973552101988842,0.974398648349446,0.975218788110166,0.976013301444097,0.976782948228891,0.977528468396844,0.978250582291402,0.978949991028976,0.979627376864964,0.980283403563006,0.980918716766551,0.98153394437187,0.982129696901735,0.982706567879039,0.983265134199682,0.983805956504108,0.984329579546942,0.984836532564192,0.985327329637577,0.985802470055534,0.986262438670528],"name":"prob","mode":"lines","type":"scatter","line":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<hr />
</div>
<div id="ii-testes-para-beta" class="section level4">
<h4><strong>ii) testes para <span class="math inline">\(\beta\)</span></strong></h4>
<p></p>
<p><strong>Testes de hipótese:</strong></p>
<pre class="r"><code># testes para existência de regressão

# 1) razao de verossimilhancas
library(lmtest)
lrtest(bee_logit_model) # ok! os resultados batem e sao significativos (rejeita H0)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["#Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["LogLik"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Df"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Chisq"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chisq)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"2","2":"-18.41052","3":"NA","4":"NA","5":"NA","_rn_":"1"},{"1":"1","2":"-151.52785","3":"-1","4":"266.2347","5":"7.508746e-60","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># 2) teste de Wald
waldtest(bee_logit_model)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Res.Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Df"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["F"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"6","2":"NA","3":"NA","4":"NA","_rn_":"1"},{"1":"7","2":"-1","3":"138.3724","4":"2.27897e-05","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p></p>
<p>Uma vez que ambos os testes indicam que os <span class="math inline">\(\beta\)</span>’s são significantes, há evidências da existência de regressão logística entre a morte de abelhas e a dosagem do produto utilizado.</p>
<p><strong>Intervalos de Confiança:</strong></p>
<p>Para <span class="math inline">\(log(odds)\)</span>:</p>
<pre class="r"><code># IC log(odds)
# summary(bee_logit_model)
# IC_B &lt;- bee_logit_model$coefficients[2] + c(-1,1)*qnorm(0.975)*2.8939

# ou
confint.default(bee_logit_model)</code></pre>
<pre><code>##                 2.5 %    97.5 %
## (Intercept) -69.09124 -49.28385
## dose         27.83553  38.96588</code></pre>
<p></p>
<p>O método <em>.default</em> assume normalidade assintótica, por isso é utilizado.</p>
<p>Para <em>odds ratio</em>:</p>
<pre class="r"><code># IC (odds ratio)

exp(confint.default(bee_logit_model))</code></pre>
<pre><code>##                    2.5 %       97.5 %
## (Intercept) 9.864035e-31 3.947270e-22
## dose        1.226916e+12 8.368858e+16</code></pre>
<hr />
</div>
<div id="iii-goodness-of-fit" class="section level4">
<h4><strong>iii) Goodness of Fit</strong></h4>
<p>Na saída da função <code>glm()</code> ( e também no <code>summary(model)</code>) já temos algumas medidas de <em>goodness of fit</em>, como <em>Deviance</em> por exemplo.</p>
<pre class="r"><code>bee_logit_model</code></pre>
<pre><code>## 
## Call:  glm(formula = resposta ~ dose, family = binomial(link = &quot;logit&quot;))
## 
## Coefficients:
## (Intercept)         dose  
##      -59.19        33.40  
## 
## Degrees of Freedom: 7 Total (i.e. Null);  6 Residual
## Null Deviance:       274.9 
## Residual Deviance: 8.64  AIC: 40.82</code></pre>
<pre class="r"><code># ou
summary(bee_logit_model)</code></pre>
<pre><code>## 
## Call:
## glm(formula = resposta ~ dose, family = binomial(link = &quot;logit&quot;))
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -1.5139  -0.2808   0.5536   1.0175   1.3788  
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)  -59.188      5.053  -11.71   &lt;2e-16 ***
## dose          33.401      2.839   11.76   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 274.8744  on 7  degrees of freedom
## Residual deviance:   8.6398  on 6  degrees of freedom
## AIC: 40.821
## 
## Number of Fisher Scoring iterations: 4</code></pre>
<p></p>
<p><strong>Deviance:</strong></p>
<p>Na verdade, o <em>output</em> do modelo nos dá duas medidas de <em>Deviance</em>: a <em>null deviance</em> e a <em>residual deviance</em>. Quanto mais baixa for a <em>deviance</em> de um modelo, melhor é o seu ajuste aos dados. Dito isso, a <em>null deviance</em> nos mostra quão bem a variável resposta é explicada/predita por um modelo logístico contendo somente o intercepto <span class="math inline">\(\alpha\)</span>. Já a <em>residual deviance</em> mostra em quanto <strong>reduziu</strong> nossa <em>deviance</em> ao introduzirmos a(s) variável(eis) explicativa(s) em nosso modelo. No caso, nota-se que há uma redução de aproximadamente <span class="math inline">\(8.64\)</span> de magnitude na <em>deviance</em> em comparação com a deviance do modelo nulo ao custo de <span class="math inline">\(1\)</span> grau de liberdade. Portanto, a introdução da variável <em>dose</em> melhororu o ajuste de nosso modelo.</p>
<p>Os <em>deviance residuals</em> também são uma informação importante, pois, se apresentarem valores muito altos, indicam mau ajuste do modelo. A saída de de <code>summary(modelo)</code> no <strong>R</strong>, nos traz estatísticas descritivas sobre estes resíduos. Como se vê, o valor máximo não passa de 2 ou 3 de magnitude, indicando um bom ajuste. Contudo, se desejarmos verificar valor por valor do <em>deviance</em> podemos fazê-lo com:</p>
<pre class="r"><code># resid(bee_logit_model) 
# ou
residuals(bee_logit_model) # deviance</code></pre>
<pre><code>##           1           2           3           4           5           6 
##  1.16462570  0.96848662 -1.20931087 -1.51389730  0.74892209  0.02866769 
##           7           8 
##  1.37878444  0.35827931</code></pre>
<p></p>
<p>Podemos calcular também os valores dos resíduos de <em>Pearson</em>, os quais devem ser próximos dos valores dos resíduos <em>deviance</em> e também não ultrapassando uma magnitude de 2 ou 3.</p>
<pre class="r"><code>summary(bee_logit_model$residuals) # pearson</code></pre>
<pre><code>##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
## -0.41723 -0.06932  0.25833  0.19126  0.43024  0.70341</code></pre>
<pre class="r"><code># residuals(bee_logit_model, type=&quot;working&quot;)
# ou
bee_logit_model$residuals</code></pre>
<pre><code>##           1           2           3           4           5           6 
##  0.68313887  0.34594458 -0.31406334 -0.41723254  0.22539511  0.01226782 
##           7           8 
##  0.70340807  0.29125923</code></pre>
<p></p>
<div id="teste-de-hosmer-e-lemeshow" class="section level5">
<h5><strong>Teste de Hosmer e Lemeshow</strong>:</h5>
<p>Este teste também serve para avaliar a <em>goodness of fit</em> de um modelo. No <strong>R</strong>, podemos empregá-lo de várias formas.</p>
<p>A primeira delas seria utilizando o modelo a partir do qual ajustamos os dados na forma de tabela de frequências. Mas como nesse caso só temos 8 observações, temos que ajustar o parâmetro <code>g</code> (número de classes/intervalos) da função para um valor menor.</p>
<pre class="r"><code>library(ResourceSelection)
hoslem.test(bee_logit_model$y, bee_logit_model$fitted.values, g=5)</code></pre>
<pre><code>## 
##  Hosmer and Lemeshow goodness of fit (GOF) test
## 
## data:  bee_logit_model$y, bee_logit_model$fitted.values
## X-squared = 0.092295, df = 3, p-value = 0.9927</code></pre>
<p></p>
<p>A segunda forma é ajustando um novo modelo com base nos dados expandidos com a variável resposta na forma de zeros e uns (0,1). Assim ganhamos mais graus de liberdade e, consequentemente mais “espaço” para os intervalos. Note que na saída do modelo, temos exatamente os mesmos valores de coeficientes e de p-valor, mas valores diferentes para AIC, <em>deviance</em> etc. Essa diferença deve-se justamente ao maior número de observações que temos agora.</p>
<pre class="r"><code># antes do teste, eh necessario transformar para zero e uns

# nao evento eh sobreviver
response_l &lt;- lapply(1:nrow(beetles), function(i){
  killed &lt;- rep(c(0,1), c(beetles[i,&quot;survived&quot;], beetles[i,&quot;killed&quot;])) # response
  dose &lt;- rep(beetles[i,&quot;dose&quot;], length(killed)) # variable
  cbind(dose, killed)
})

response_m &lt;- Reduce(rbind, response_l)

bee_logit_model2 &lt;- glm(response_m[,2] ~ response_m[,1], family=binomial(link=&quot;logit&quot;))

summary(bee_logit_model2) # os deviance, df e AIC diferentes vem devido ao nro de linhas (obs) no modelo expandido</code></pre>
<pre><code>## 
## Call:
## glm(formula = response_m[, 2] ~ response_m[, 1], family = binomial(link = &quot;logit&quot;))
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.7421  -0.6070   0.2171   0.4658   2.3584  
## 
## Coefficients:
##                 Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)      -59.188      5.053  -11.71   &lt;2e-16 ***
## response_m[, 1]   33.401      2.839   11.76   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 646.28  on 480  degrees of freedom
## Residual deviance: 380.05  on 479  degrees of freedom
## AIC: 384.05
## 
## Number of Fisher Scoring iterations: 5</code></pre>
<p></p>
<p>Para o teste, fazemos uma pequena aleração na função <em>HLfit()</em> do pacote <strong>modEvA</strong>. O objetivo é replicar os resultados apresentados no output do <strong>SAS</strong>. Os ajustes são para solucionar um <em>bug</em> da função e para fazer com que ela retorne também uma tabela das partições que foram geradas para o teste. Esta função é a única (?) que tem retorno parecido com o do SAS porque permite escolher métodos diferentes para gerar os intervalos. No caso utilizamos <code>bin.method=&quot;quantile&quot;</code>.</p>
<pre class="r"><code>library(modEvA)
# alteração da função HLfit:
HLfit2 &lt;- function (model = NULL, obs = NULL, pred = NULL, bin.method, n.bins = 10, fixed.bin.size = FALSE, min.bin.size = 15, min.prob.interval = 0.1, simplif = FALSE) {
  # version 1.5 (24 Jun 2015)
  
  if (!is.null(model)) {
    if (!is.null(obs)) message(&quot;Argument &#39;obs&#39; ignored in favour of &#39;model&#39;.&quot;)
    if (!is.null(pred)) message(&quot;Argument &#39;pred&#39; ignored in favour of &#39;model&#39;.&quot;)
    obs &lt;- model$y
    pred &lt;- model$fitted.values
  }  # end if model
  
  stopifnot(
    length(obs) == length(pred),
    obs %in% c(0, 1),
    pred &gt;= 0,
    pred &lt;= 1
  )
  
  bins &lt;- getBins(obs = obs, pred = pred, bin.method = bin.method, n.bins = n.bins, fixed.bin.size = fixed.bin.size, min.bin.size = min.bin.size, min.prob.interval = min.prob.interval)
  n.bins &lt;- nrow(bins$bins.table)
  
  # next 4 lines: adapted from hosmerlem function in http://www.stat.sc.edu/~hitchcock/diseaseoutbreakRexample704.txt
  observed &lt;- xtabs(cbind(1 - obs, obs) ~ bins$prob.bin)
  expected &lt;- xtabs(cbind(1 - pred, pred) ~ bins$prob.bin)
  chi.sq &lt;- sum((observed - expected) ^ 2 / expected)
  p.value &lt;- 1 - pchisq(chi.sq, df = n.bins - 2)
  rmse &lt;- sqrt(mean((observed - expected) ^ 2))
  
  if (simplif) return(list(chi.sq = chi.sq, p.value = p.value, RMSE = rmse))
  
  # plotting loosely based on calibration.plot function in package PresenceAbsence
  # no plot -- nosso ajuste!
  
  # nosso ajuste: partition table
  partition &lt;- data.frame(cbind(matrix(observed[,2]), matrix(expected[,2])), 
                          cbind(matrix(observed[,1]), matrix(expected[,1])))
  
  #str(partition)
  colnames(partition) &lt;- c(&quot;Observed_Event&quot;, &quot;Expected_Event&quot;, &quot;Observed_Nonevent&quot;, &quot;Expected_Nonevent&quot;)
  
  return(list(partition = partition, stats = list(chi.sq = chi.sq, DF = n.bins - 2, p.value = p.value), RMSE = rmse))
}</code></pre>
<pre class="r"><code>out_HL &lt;- HLfit2(model=bee_logit_model2, bin.method = &quot;quantiles&quot;, n.bins = 10) # ok!

tibble::as.tibble(out_HL$partition)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Observed_Event"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Expected_Event"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Observed_Nonevent"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Expected_Nonevent"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"6","2":"3.656756","3":"53","4":"55.343244"},{"1":"13","2":"10.095220","3":"47","4":"49.904780"},{"1":"18","2":"22.502185","3":"44","4":"39.497815"},{"1":"28","2":"33.607019","3":"28","4":"22.392981"},{"1":"52","2":"49.625411","3":"11","4":"13.374589"},{"1":"53","2":"52.933227","3":"6","4":"6.066773"},{"1":"61","2":"58.977758","3":"1","4":"3.022242"},{"1":"59","2":"58.602425","3":"1","4":"1.397575"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code>out_HL$stats</code></pre>
<pre><code>## $chi.sq
## [1] 8.433355
## 
## $DF
## [1] 6
## 
## $p.value
## [1] 0.2080418</code></pre>
<p></p>
<p>A título de ilustração, se utilizássemos a primeira função para o modelo expandido, a resposta seria diferente do que a saída do SAS - só teríamos 7 grupos/ intervalos:</p>
<pre class="r"><code>library(ResourceSelection)
help(&quot;hoslem.test&quot;)

out_HL2 &lt;- hoslem.test(bee_logit_model2$y, bee_logit_model2$fitted.values)

# valores esperados -- ele agrupa os dois primeiros grupos de saida do SAS em um soh
tibble::as.tibble(cbind(matrix(out_HL2$expected[,2]), matrix(out_HL2$expected[,1]))) %&gt;%
  tibble::rownames_to_column() %&gt;%
  magrittr::set_colnames(c(&quot;grupo&quot;, &quot;Expected_Nonevent&quot;, &quot;Expected_Event&quot;))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["grupo"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Expected_Nonevent"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Expected_Event"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"13.75198","3":"105.248024"},{"1":"2","2":"22.50218","3":"39.497815"},{"1":"3","2":"33.60702","3":"22.392981"},{"1":"4","2":"49.62541","3":"13.374589"},{"1":"5","2":"52.93323","3":"6.066773"},{"1":"6","2":"58.97776","3":"3.022242"},{"1":"7","2":"58.60242","3":"1.397575"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Em todos os testes que empregamos, o p-valor alto indica bom ajuste de nosso modelo - ou seja - não há diferenças significativas entre os valores preditos pelo modelo e os valores observados nos dados.</p>
<!-- \s\s -->
<!-- ### ESTA CERTO FAZER ESTE TESTE PARA OS DADOS DE FREQUÊNCIA?? -->
<!-- O teste de Hosmer e Lemeshow ajusta as observações em categorias utilizando como padrão $n/10$ para cada categoria. No entanto, como só temos oito observações nos dados das abelhas, temos que fornecer via parâmetro `g` um número adequado de categorias para que se calcule os quantis. Como nossos dados tem apenas 8 observações, utilizamos `g=4`. O p-valor alto indica bom ajuste de nosso modelo - ou seja - não diferenças significativas entre os valores preditos pelo modelo e os valores observados nos dados. -->
<p></p>
</div>
<div id="avaliando-os-residuos" class="section level5">
<h5><strong>Avaliando os resíduos</strong>:</h5>
<p><strong>Plots resíduos vs valores ajustados:</strong></p>
<!-- para dividir a saida em 2 colunas com css-- eh a unica que funciona no browser!! -->
<!-- https://stackoverflow.com/questions/31753897/2-column-section-in-r-markdown -->
<!-- NAO FUNCIONA COM PLOTLY APENAS COM DYGRAPHS!!!! -->
<pre class="r"><code># outra forma de colocar os graficos lado a lado com plotly
# plotly::subplot(p2, p3)</code></pre>
<pre class="r"><code># colcando tudo no mesmo gráfico

# se usarmos ~variavel ele traz os nomes das variaveis nos eixos
plotly::plot_ly(x = bee_logit_model$fitted.values, y = residuals(bee_logit_model), 
                      name = &#39;Deviance&#39;, type = &#39;scatter&#39;, mode = &#39;markers&#39; ) %&gt;%
  # plotly::layout(title = &quot;Resíduos Deviance&quot;, xaxis = list(title=&quot;fitted&quot;), yaxis = list(title=&quot;resíduos&quot;)) %&gt;%
  plotly::add_trace(x = bee_logit_model$fitted.values, y = ~bee_logit_model$residuals, 
                      name = &#39;Pearson&#39;, type = &#39;scatter&#39;, mode = &#39;markers&#39;) %&gt;%
  plotly::layout(title = &quot;Resíduos&quot;, xaxis = list(title=&quot;fitted&quot;), yaxis = list(title=&quot;resíduos&quot;) )</code></pre>
<div id="349176714ea4" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="349176714ea4">{"x":{"visdat":{"3491763203a7":["function () ","plotlyVisDat"]},"cur_data":"3491763203a7","attrs":{"3491763203a7":{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[1.16462570201093,0.968486618588007,-1.20931086901212,-1.51389730184138,0.748922087652778,0.0286676878069518,1.37878443650609,0.358279313611872],"name":"Deviance","mode":"markers","alpha":1,"sizes":[10,100],"type":"scatter"},"3491763203a7.1":{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":{},"name":"Pearson","mode":"markers","alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Resíduos","xaxis":{"domain":[0,1],"title":"fitted"},"yaxis":{"domain":[0,1],"title":"resíduos"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[1.16462570201093,0.968486618588007,-1.20931086901212,-1.51389730184138,0.748922087652778,0.0286676878069518,1.37878443650609,0.358279313611872],"name":"Deviance","mode":"markers","type":"scatter","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[0.683138869897239,0.345944577957221,-0.31406333501719,-0.417232540903463,0.225395110663664,0.0122678213154326,0.703408074112607,0.291259234060894],"name":"Pearson","mode":"markers","type":"scatter","marker":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p></p>
<p>Com intervalo de confiança:</p>
<pre class="r"><code># library(plotly)
# library(broom)
# https://plot.ly/r/graphing-multiple-chart-types/#loess-smoother-with-uncertainty-bounds

m2 &lt;- loess(residuals(bee_logit_model) ~ bee_logit_model$fitted.values)

p2 &lt;- plotly::plot_ly(x = bee_logit_model$fitted.values, 
                      y = residuals(bee_logit_model)) %&gt;% # nao posso colocar a cor aqui
  plotly::add_markers(marker = list( color = &quot;blue&quot;), name = &quot;Deviance&quot; ) %&gt;% # tenho que adicionar uma cama especifica para alterar a cor
  plotly::add_lines(y = ~fitted(loess(residuals(bee_logit_model) ~ bee_logit_model$fitted.values)),
            line = list(color = &#39;rgba(138,43,226, 0.5)&#39;), # o ultimo valor eh opacity
            # cores em decimal em: https://reeddesign.co.uk/test/namedcolors.html
            name = &quot;Loess Smoother&quot;) %&gt;% 
  plotly::add_ribbons(data = broom::augment(m2),
              ymin = ~.fitted - qnorm(0.975) * .se.fit,
              ymax = ~.fitted + qnorm(0.975) * .se.fit,
              line = list(color = &#39;rgba(138,43,226, 0.05)&#39;, opacity = 0.1),
              fillcolor = &#39;rgba(138,43,226, 0.2)&#39;, opacity = 0.25,
              name = &quot;Standard Error&quot;) %&gt;%
  plotly::layout(title = &quot;Resíduos Deviance&quot;, 
                 xaxis = list(title=&quot;fitted&quot;), 
                 yaxis = list(title=&quot;resíduos&quot;))




m3 &lt;- loess(bee_logit_model$residuals ~ bee_logit_model$fitted.values)

p3 &lt;- plotly::plot_ly(x = bee_logit_model$fitted.values, y = bee_logit_model$residuals) %&gt;%
  plotly::add_markers(marker = list( color = &quot;orange&quot;), name = &quot;Pearson&quot; ) %&gt;% # tenho que adicionar uma cama especifica para alterar a cor
  plotly::add_lines(y = ~fitted(loess(bee_logit_model$residuals ~ bee_logit_model$fitted.values)),
            line = list(color = &#39;rgba(138,43,226, 0.5)&#39;),
            name = &quot;Loess Smoother&quot;) %&gt;%
  plotly::add_ribbons(data = broom::augment(m3),
              ymin = ~.fitted - qnorm(0.975) * .se.fit,
              ymax = ~.fitted + qnorm(0.975) * .se.fit,
              line = list(color = &#39;rgba(138,43,226, 0.05)&#39;, opacity = 0.1),
              fillcolor = &#39;rgba(138,43,226, 0.2)&#39;, opacity = 0.25,
              name = &quot;Standard Error&quot;) %&gt;%
  plotly::layout(title = &quot;Resíduos de Pearson&quot;, 
                 xaxis = list(title=&quot;fitted&quot;), 
                 yaxis = list(title=&quot;resíduos&quot;))</code></pre>
<div class="row">
<div class="col-md-6">
<pre class="r"><code>p2</code></pre>
<div id="34912d5be93b" style="width:451.2px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="34912d5be93b">{"x":{"visdat":{"349166415bba":["function () ","plotlyVisDat"],"349168e12d0b":["function () ","data"]},"cur_data":"349168e12d0b","attrs":{"349166415bba":{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[1.16462570201093,0.968486618588007,-1.20931086901212,-1.51389730184138,0.748922087652778,0.0286676878069518,1.37878443650609,0.358279313611872],"alpha":1,"sizes":[10,100],"type":"scatter","mode":"markers","marker":{"color":"blue"},"name":"Deviance"},"349166415bba.1":{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":{},"alpha":1,"sizes":[10,100],"type":"scatter","mode":"lines","line":{"color":"rgba(138,43,226, 0.5)"},"name":"Loess Smoother"},"349168e12d0b":{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[1.16462570201093,0.968486618588007,-1.20931086901212,-1.51389730184138,0.748922087652778,0.0286676878069518,1.37878443650609,0.358279313611872],"alpha":1,"sizes":[10,100],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","line":{"color":"rgba(138,43,226, 0.05)","opacity":0.1},"fillcolor":"rgba(138,43,226, 0.2)","opacity":0.25,"name":"Standard Error"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Resíduos Deviance","xaxis":{"domain":[0,1],"title":"fitted"},"yaxis":{"domain":[0,1],"title":"resíduos"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[1.16462570201093,0.968486618588007,-1.20931086901212,-1.51389730184138,0.748922087652778,0.0286676878069518,1.37878443650609,0.358279313611872],"type":"scatter","mode":"markers","marker":{"fillcolor":"rgba(31,119,180,1)","color":"blue","line":{"color":"transparent"}},"name":"Deviance","xaxis":"x","yaxis":"y","frame":null},{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[1.48957794248092,0.378770918260482,-1.0987294363355,-1.24544164143003,0.446998428700028,0.743373870708563,0.67759298571313,0.602848735237847],"type":"scatter","mode":"lines","line":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(138,43,226, 0.5)"},"name":"Loess Smoother","xaxis":"x","yaxis":"y","frame":null},{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343,0.976707081302343,0.976707081302343,0.951254155255683,0.897173337252738,0.787704931366165,0.600125343762374,0.362938463010934,0.168253669815993,0.0619789114524398],"y":[0.105987199733523,-0.565271663904032,-2.29892315448478,-2.63762029370107,-0.878418580777415,-0.146938609844808,-0.238334302795091,-0.588946394523224,-0.588946394523224,1.79464386499892,1.59352027422135,1.63368635126193,1.77241543817747,0.146737010841004,0.101464281813773,1.322813500425,2.87316868522831],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","line":{"fillcolor":"rgba(44,160,44,1)","color":"rgba(138,43,226, 0.05)","opacity":0.1},"fillcolor":"rgba(138,43,226, 0.2)","opacity":0.25,"name":"Standard Error","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
<div class="col-md-6">
<pre class="r"><code>p3</code></pre>
<div id="3491310f48df" style="width:451.2px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="3491310f48df">{"x":{"visdat":{"34912b54795a":["function () ","plotlyVisDat"],"34914c838466":["function () ","data"]},"cur_data":"34914c838466","attrs":{"34912b54795a":{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[0.683138869897239,0.345944577957221,-0.31406333501719,-0.417232540903463,0.225395110663664,0.0122678213154326,0.703408074112607,0.291259234060894],"alpha":1,"sizes":[10,100],"type":"scatter","mode":"markers","marker":{"color":"orange"},"name":"Pearson"},"34912b54795a.1":{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":{},"alpha":1,"sizes":[10,100],"type":"scatter","mode":"lines","line":{"color":"rgba(138,43,226, 0.5)"},"name":"Loess Smoother"},"34914c838466":{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[0.683138869897239,0.345944577957221,-0.31406333501719,-0.417232540903463,0.225395110663664,0.0122678213154326,0.703408074112607,0.291259234060894],"alpha":1,"sizes":[10,100],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","line":{"color":"rgba(138,43,226, 0.05)","opacity":0.1},"fillcolor":"rgba(138,43,226, 0.2)","opacity":0.25,"name":"Standard Error"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Resíduos de Pearson","xaxis":{"domain":[0,1],"title":"fitted"},"yaxis":{"domain":[0,1],"title":"resíduos"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[0.683138869897239,0.345944577957221,-0.31406333501719,-0.417232540903463,0.225395110663664,0.0122678213154326,0.703408074112607,0.291259234060894],"type":"scatter","mode":"markers","marker":{"fillcolor":"rgba(31,119,180,1)","color":"orange","line":{"color":"transparent"}},"name":"Pearson","xaxis":"x","yaxis":"y","frame":null},{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343],"y":[0.730944797057236,0.260489623844739,-0.305233230662069,-0.34218373366912,0.106972329258597,0.307537983703382,0.383746861480457,0.416362478156091],"type":"scatter","mode":"lines","line":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(138,43,226, 0.5)"},"name":"Loess Smoother","xaxis":"x","yaxis":"y","frame":null},{"x":[0.0619789114524398,0.168253669815993,0.362938463010934,0.600125343762374,0.787704931366165,0.897173337252738,0.951254155255683,0.976707081302343,0.976707081302343,0.976707081302343,0.951254155255683,0.897173337252738,0.787704931366165,0.600125343762374,0.362938463010934,0.168253669815993,0.0619789114524398],"y":[0.215897963617259,-0.0909337613759754,-0.752009835151244,-0.86042744857799,-0.386419114199097,-0.0238841700547138,0.0427894995724997,-0.0272877203655782,-0.0272877203655782,0.86001267667776,0.724704223388415,0.638960137461477,0.600363772716292,0.17605998123975,0.141543373827106,0.611913009065453,1.24599163049721],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","line":{"fillcolor":"rgba(44,160,44,1)","color":"rgba(138,43,226, 0.05)","opacity":0.1},"fillcolor":"rgba(138,43,226, 0.2)","opacity":0.25,"name":"Standard Error","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
</div>
</div>
<div id="medidas-diagnostico-de-influencia" class="section level5">
<h5><strong>Medidas (diagnóstico) de influência</strong></h5>
<p><strong>Resíduos vs índices</strong></p>
<pre class="r"><code># ou com plotly:
library(dplyr)
# pontos e linhas no mesmo plot:
# https://plot.ly/r/line-and-scatter/

p2 &lt;- plotly::plot_ly(x = 1:length(residuals(bee_logit_model)), y = residuals(bee_logit_model), 
                      name = &#39;prop&#39;, type = &#39;scatter&#39;, mode = &#39;markers&#39;, marker = list( color = &quot;blue&quot;) ) %&gt;%
  plotly::layout(title = &quot;Resíduos Deviance&quot;, xaxis = list(title=&quot;índices&quot;), yaxis = list(title=&quot;resíduos&quot;))

p3 &lt;- plotly::plot_ly(x = 1:length(residuals(bee_logit_model)), y = ~bee_logit_model$residuals, 
                      name = &#39;prop&#39;, type = &#39;scatter&#39;, mode = &#39;markers&#39;, marker = list( color = &quot;green&quot;) )  %&gt;%
  plotly::layout(title = &quot;Resíduos de Pearson&quot;, xaxis = list(title=&quot;índices&quot;), yaxis = list(title=&quot;resíduos&quot;))
  
# se usarmos ~variavel ele traz os nomes das variaveis nos eixos</code></pre>
<div class="row">
<div class="col-md-6">
<pre class="r"><code>p2</code></pre>
<div id="34914b0649f3" style="width:384px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="34914b0649f3">{"x":{"visdat":{"3491442a5761":["function () ","plotlyVisDat"]},"cur_data":"3491442a5761","attrs":{"3491442a5761":{"x":[1,2,3,4,5,6,7,8],"y":[1.16462570201093,0.968486618588007,-1.20931086901212,-1.51389730184138,0.748922087652778,0.0286676878069518,1.37878443650609,0.358279313611872],"name":"prop","mode":"markers","marker":{"color":"blue"},"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Resíduos Deviance","xaxis":{"domain":[0,1],"title":"índices"},"yaxis":{"domain":[0,1],"title":"resíduos"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1,2,3,4,5,6,7,8],"y":[1.16462570201093,0.968486618588007,-1.20931086901212,-1.51389730184138,0.748922087652778,0.0286676878069518,1.37878443650609,0.358279313611872],"name":"prop","mode":"markers","marker":{"fillcolor":"rgba(31,119,180,1)","color":"blue","line":{"color":"transparent"}},"type":"scatter","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
<div class="col-md-6">
<pre class="r"><code>p3</code></pre>
<div id="34916875aafd" style="width:384px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="34916875aafd">{"x":{"visdat":{"349139bca7eb":["function () ","plotlyVisDat"]},"cur_data":"349139bca7eb","attrs":{"349139bca7eb":{"x":[1,2,3,4,5,6,7,8],"y":{},"name":"prop","mode":"markers","marker":{"color":"green"},"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Resíduos de Pearson","xaxis":{"domain":[0,1],"title":"índices"},"yaxis":{"domain":[0,1],"title":"resíduos"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1,2,3,4,5,6,7,8],"y":[0.683138869897239,0.345944577957221,-0.31406333501719,-0.417232540903463,0.225395110663664,0.0122678213154326,0.703408074112607,0.291259234060894],"name":"prop","mode":"markers","marker":{"fillcolor":"rgba(31,119,180,1)","color":"green","line":{"color":"transparent"}},"type":"scatter","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
</div>
<pre class="r"><code>medinflu &lt;-influence.measures(bee_logit_model)
inf_measures &lt;- tibble::as.tibble(medinflu$infmat)
inf_measures</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["dfb.1_"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["dfb.dose"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["dffit"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["cov.r"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["cook.d"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["hat"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.64728223","2":"-0.63905894","3":"0.71902845","4":"1.2176316","5":"0.4133337323","6":"0.2729679"},{"1":"0.56564012","2":"-0.55404175","3":"0.72034776","4":"1.5282221","5":"0.4008583110","6":"0.3436716"},{"1":"-0.40844230","2":"0.38950211","3":"-0.84084431","4":"1.1856681","5":"0.4467384875","6":"0.3051169"},{"1":"0.07723140","2":"-0.09958067","3":"-0.87782899","4":"0.8036580","5":"0.4461888107","6":"0.2275838"},{"1":"-0.23277480","2":"0.24156817","3":"0.41753981","4":"1.6278951","5":"0.1310425368","6":"0.2647299"},{"1":"-0.01075479","2":"0.01097933","3":"0.01396804","4":"1.8895396","5":"0.0001679972","6":"0.2380999"},{"1":"-0.60257545","2":"0.61146414","3":"0.69941911","4":"0.9471183","5":"0.2288368842","6":"0.2039104"},{"1":"-0.11048959","2":"0.11176763","3":"0.12184379","4":"1.6242063","5":"0.0113699931","6":"0.1439197"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Plotando valores de leverage (<em>hat</em>), <em>dffit</em>, <em>dfbeta</em> (para dose) e <em>cook distance</em>:</p>
<pre class="r"><code># separando as 4 medidas de interesse

inf_measures_sub &lt;- inf_measures %&gt;%
  dplyr::select(dfb.dose, dffit, cook.d, hat)</code></pre>
<pre class="r"><code># 1 plot para cada coluna
lista &lt;- lapply(1:ncol(inf_measures_sub),
            function(j) {
              plotly::plot_ly(x = 1:nrow(inf_measures_sub),
                      y = as.data.frame(inf_measures_sub)[,j],
                      mode = &quot;markers&quot;)
            })</code></pre>
<p><strong>Gráficos para medidas de Influência:</strong></p>
<div class="row">
<div class="col-md-6">
<pre class="r"><code>lista[[1]] %&gt;%
  plotly::layout(title = &quot;Dfbetas - Dose&quot;, xaxis = list(title=&quot;índices&quot;), yaxis = list(title=&quot;dfbetas&quot;))</code></pre>
<div id="34915a70fc3a" style="width:451.2px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="34915a70fc3a">{"x":{"visdat":{"34911214eeb2":["function () ","plotlyVisDat"]},"cur_data":"34911214eeb2","attrs":{"34911214eeb2":{"x":[1,2,3,4,5,6,7,8],"y":[-0.639058940536597,-0.554041748622803,0.389502113977927,-0.0995806665625219,0.241568173712509,0.0109793330557714,0.611464138806381,0.111767629035014],"mode":"markers","alpha":1,"sizes":[10,100]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Dfbetas - Dose","xaxis":{"domain":[0,1],"title":"índices"},"yaxis":{"domain":[0,1],"title":"dfbetas"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1,2,3,4,5,6,7,8],"y":[-0.639058940536597,-0.554041748622803,0.389502113977927,-0.0995806665625219,0.241568173712509,0.0109793330557714,0.611464138806381,0.111767629035014],"mode":"markers","type":"scatter","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<pre class="r"><code>lista[[3]] %&gt;%
  plotly::layout(title = &quot;Cook&#39;s Distance&quot;, xaxis = list(title=&quot;índices&quot;), yaxis = list(title=&quot;cook&quot;))</code></pre>
<div id="349154cbbc99" style="width:451.2px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="349154cbbc99">{"x":{"visdat":{"34915c57594":["function () ","plotlyVisDat"]},"cur_data":"34915c57594","attrs":{"34915c57594":{"x":[1,2,3,4,5,6,7,8],"y":[0.413333732287004,0.400858310975544,0.446738487457277,0.446188810713511,0.131042536834917,0.000167997199752604,0.228836884198184,0.0113699931459307],"mode":"markers","alpha":1,"sizes":[10,100]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Cook's Distance","xaxis":{"domain":[0,1],"title":"índices"},"yaxis":{"domain":[0,1],"title":"cook"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1,2,3,4,5,6,7,8],"y":[0.413333732287004,0.400858310975544,0.446738487457277,0.446188810713511,0.131042536834917,0.000167997199752604,0.228836884198184,0.0113699931459307],"mode":"markers","type":"scatter","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
<div class="col-md-6">
<pre class="r"><code>lista[[2]] %&gt;%
  plotly::layout(title = &quot;Dffit&quot;, xaxis = list(title=&quot;índices&quot;), yaxis = list(title=&quot;dffit&quot;))</code></pre>
<div id="34917af61bbd" style="width:451.2px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="34917af61bbd">{"x":{"visdat":{"349123bc73ba":["function () ","plotlyVisDat"]},"cur_data":"349123bc73ba","attrs":{"349123bc73ba":{"x":[1,2,3,4,5,6,7,8],"y":[0.719028445584579,0.720347760166629,-0.840844311107004,-0.877828986043453,0.417539813856698,0.0139680447271544,0.699419114519754,0.121843789944932],"mode":"markers","alpha":1,"sizes":[10,100]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Dffit","xaxis":{"domain":[0,1],"title":"índices"},"yaxis":{"domain":[0,1],"title":"dffit"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1,2,3,4,5,6,7,8],"y":[0.719028445584579,0.720347760166629,-0.840844311107004,-0.877828986043453,0.417539813856698,0.0139680447271544,0.699419114519754,0.121843789944932],"mode":"markers","type":"scatter","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<pre class="r"><code>lista[[4]] %&gt;%
  plotly::layout(title = &quot;Leverage (hat)&quot;, xaxis = list(title=&quot;índices&quot;), yaxis = list(title=&quot;leverage&quot;))</code></pre>
<div id="349114797b97" style="width:451.2px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="349114797b97">{"x":{"visdat":{"34914779a023":["function () ","plotlyVisDat"]},"cur_data":"34914779a023","attrs":{"34914779a023":{"x":[1,2,3,4,5,6,7,8],"y":[0.272967859458514,0.343671558043457,0.305116920315643,0.227583751766048,0.264729935917132,0.238099863589835,0.203910396982658,0.143919713926714],"mode":"markers","alpha":1,"sizes":[10,100]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Leverage (hat)","xaxis":{"domain":[0,1],"title":"índices"},"yaxis":{"domain":[0,1],"title":"leverage"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1,2,3,4,5,6,7,8],"y":[0.272967859458514,0.343671558043457,0.305116920315643,0.227583751766048,0.264729935917132,0.238099863589835,0.203910396982658,0.143919713926714],"mode":"markers","type":"scatter","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
</div>
<hr />
<hr />
</div>
</div>
</div>
<div id="referencias-bibliograficas" class="section level3">
<h3>Referências Bibliográficas</h3>
<hr />
<p>AGRESTI, ALAN. <em>An Introduction to Categorical Data Analysis</em>. John Wiley &amp; Sons, second edition, 2007.</p>
<p>NOTAS DE AULA. <em>Análise de Dados Categorizados</em>. Curso de Graduação em Estatística, UnB, 2018.</p>
<p>R CORE TEAM. <em>R: A language and environment for statistical computing</em>. R Foundation for Statistical Computing, Vienna, Austria. URL <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>.</p>
<hr />
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
