<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Allan Vieira 14/0128492" />
<meta name="author" content="Caio Balena" />
<meta name="author" content="Frederico França" />
<meta name="author" content="José Cezário" />

<meta name="date" content="2018-06-21" />

<title>Challenger</title>

<script src="challenger_new_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="challenger_new_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="challenger_new_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="challenger_new_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="challenger_new_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="challenger_new_files/navigation-1.1/tabsets.js"></script>
<script src="challenger_new_files/navigation-1.1/codefolding.js"></script>
<link href="challenger_new_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="challenger_new_files/highlightjs-9.12.0/highlight.js"></script>
<link href="challenger_new_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="challenger_new_files/pagedtable-1.1/js/pagedtable.js"></script>
<script src="challenger_new_files/htmlwidgets-1.0/htmlwidgets.js"></script>
<script src="challenger_new_files/plotly-binding-4.7.1/plotly.js"></script>
<script src="challenger_new_files/typedarray-0.1/typedarray.min.js"></script>
<link href="challenger_new_files/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="challenger_new_files/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="challenger_new_files/plotlyjs-1.29.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="challenger_new_files/plotlyjs-1.29.2/plotly-latest.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>






<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore"><strong>Challenger</strong></h1>
<h3 class="subtitle"><em>Regressão Logística - Análise de Dados Categorizados - Prova 3</em></h3>
<h4 class="author"><em>Allan Vieira 14/0128492</em></h4>
<h4 class="author"><em>Caio Balena</em></h4>
<h4 class="author"><em>Frederico França</em></h4>
<h4 class="author"><em>José Cezário</em></h4>
<h4 class="date"><em>21 June 2018</em></h4>

</div>


<!-- self_contained: false --- para nao dar pau do plotly com firefox -->
<!-- df_print para as formas de imprimir data frames e tibbles -->
<!-- ver https://rmarkdown.rstudio.com/html_document_format.html -->
<!-- incluir no cabecalho: -->
<!-- always_allow_html: yes  -->
<!--para quando formos passar para pdf -->
<style>
body {
text-align: justify}
</style>
<!-- para justificar texto no markdown -->
<!-- https://stackoverflow.com/questions/43222169/how-to-justify-the-text-to-both-sides-when-knitting-html-in-rmarkdown -->
<!-- <style> -->
<!--   .col2 { -->
<!--     columns: 2 200px;         /* number of columns and width in pixels*/ -->
<!--     -webkit-columns: 2 200px; /* chrome, safari */ -->
<!--     -moz-columns: 2 200px;    /* firefox */ -->
<!--   } -->
<!--   .col3 { -->
<!--     columns: 3 100px; -->
<!--     -webkit-columns: 3 100px; -->
<!--     -moz-columns: 3 100px; -->
<!--   } -->
<!-- </style> -->
<!-- esse de cima funciona no output do RStudio, mas nao nos browsers -->
<!-- tb em: https://stackoverflow.com/questions/31753897/2-column-section-in-r-markdown -->
<!-- para acrescentar logo da unb no cabeçalho -->
<script>
   $(document).ready(function() {
     $head = $('#header');
     $head.prepend('<img src=\"unb3.png\" style=\"float: right;width: 150px;\"/>')
   });
</script>
<hr />
<hr />
<!-- ```{r, echo=FALSE} -->
<!-- htmltools::img(src = knitr::image_uri(file.path(R.home("doc"), "html", "logo.jpg")),  -->
<!--                alt = 'logo',  -->
<!--                style = 'position:absolute; top:0; right:0; padding:1px;') -->
<!-- ``` -->
<p><strong>Carregamento de pacotes:</strong></p>
<p>Neste exemplo são utilizados os seguintes pacotes: <em>dplyr</em>, <em>magrittr</em>, <em>tibble</em>, <em>plotly</em> e <em>lmtest</em>. Para a confecção do documento html, é necessário o pacote <em>rmarkdown</em>.</p>
<pre class="r"><code># dplyr -- para facilitar manipulacao de dados
if (!require(&#39;dplyr&#39;)) install.packages(&#39;dplyr&#39;); library(&#39;dplyr&#39;)

# magrittr -- para facilitar manipulacao de dados
if (!require(&#39;magrittr&#39;)) install.packages(&#39;magrittr&#39;); library(&#39;magrittr&#39;)

# tibble -- para facilitar manipulacao de dados
if (!require(&#39;tibble&#39;)) install.packages(&#39;tibble&#39;); library(&#39;tibble&#39;)

# plotly -- para os plots
if (!require(&#39;plotly&#39;)) install.packages(&#39;plotly&#39;); library(&#39;plotly&#39;)

# lmtest -- para os testes de razao de verossimilhancas e para o teste de wald
if (!require(&#39;lmtest&#39;)) install.packages(&#39;plotly&#39;); library(&#39;lmtest&#39;)</code></pre>
<p><strong>Carregamento dos dados:</strong></p>
<pre class="r"><code>falhas &lt;- c(2, 0, 0, 1, 0, 0, 1, 0, 0, 1, 2, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0)

temp &lt;- c(53, 66, 68, 70, 75, 78, 57, 67, 69, 70, 75, 79, 58, 67, 70, 72, 76, 80, 63, 67, 70, 73, 76)

challenger &lt;- tibble::data_frame(falhas, temp)

challenger</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["falhas"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["temp"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"2","2":"53"},{"1":"0","2":"66"},{"1":"0","2":"68"},{"1":"1","2":"70"},{"1":"0","2":"75"},{"1":"0","2":"78"},{"1":"1","2":"57"},{"1":"0","2":"67"},{"1":"0","2":"69"},{"1":"1","2":"70"},{"1":"2","2":"75"},{"1":"0","2":"79"},{"1":"1","2":"58"},{"1":"0","2":"67"},{"1":"0","2":"70"},{"1":"0","2":"72"},{"1":"0","2":"76"},{"1":"0","2":"80"},{"1":"1","2":"63"},{"1":"0","2":"67"},{"1":"0","2":"70"},{"1":"0","2":"73"},{"1":"0","2":"76"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p></p>
<p><strong>Plot:</strong></p>
<pre class="r"><code>challenger %&gt;%
  #dplyr::mutate(color = factor(falhas)) %&gt;%
  
  plotly::plot_ly(x=~temp, y=~falhas, #group=~color,
                           type=&quot;scatter&quot;, mode=&quot;markers&quot;, #color=~color, 
          split=~falhas) %&gt;%
  plotly::layout(title = &quot;Análises do Space Shuttle Data&quot;)</code></pre>
<div id="c4511bcde7f6" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c4511bcde7f6">{"x":{"visdat":{"c4517f10ff70":["function () ","plotlyVisDat"]},"cur_data":"c4517f10ff70","attrs":{"c4517f10ff70":{"x":{},"y":{},"mode":"markers","split":{},"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Análises do Space Shuttle Data","xaxis":{"domain":[0,1],"title":"temp"},"yaxis":{"domain":[0,1],"title":"falhas"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[66,68,75,78,67,69,79,67,70,72,76,80,67,70,73,76],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"mode":"markers","type":"scatter","name":"0","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[70,57,70,58,63],"y":[1,1,1,1,1],"mode":"markers","type":"scatter","name":"1","marker":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[53,75],"y":[2,2],"mode":"markers","type":"scatter","name":"2","marker":{"fillcolor":"rgba(44,160,44,1)","color":"rgba(44,160,44,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<hr />
<p></p>
<p></p>
<hr />
<div id="analises-incorretas" class="section level3">
<h3>Análises Incorretas</h3>
<hr />
<div id="analise-incorreta-1---regressao-linear-sem-zeros" class="section level4">
<h4>Análise Incorreta 1 - Regressão Linear <strong>SEM</strong> zeros</h4>
<p><strong>Dados:</strong></p>
<pre class="r"><code># removendo os zeros
challenger2 &lt;- challenger %&gt;%
  dplyr::filter(falhas != 0)
  
challenger2</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["falhas"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["temp"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"2","2":"53"},{"1":"1","2":"70"},{"1":"1","2":"57"},{"1":"1","2":"70"},{"1":"2","2":"75"},{"1":"1","2":"58"},{"1":"1","2":"63"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><strong>Plot:</strong></p>
<pre class="r"><code>challenger2 %&gt;%
  #dplyr::mutate(color = factor(falhas)) %&gt;%
  
  plotly::plot_ly(x=~temp, y=~falhas, #group=~color,
                           type=&quot;scatter&quot;, mode=&quot;markers&quot;, #color=~color, 
          split=~falhas) %&gt;%
  plotly::layout(title = &quot;Análises do Space Shuttle Data\nAnálise Incorreta 1\nDados SEM zeros&quot;)</code></pre>
<div id="c451598eae51" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c451598eae51">{"x":{"visdat":{"c451ba11c22":["function () ","plotlyVisDat"]},"cur_data":"c451ba11c22","attrs":{"c451ba11c22":{"x":{},"y":{},"mode":"markers","split":{},"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Análises do Space Shuttle Data<br />Análise Incorreta 1<br />Dados SEM zeros","xaxis":{"domain":[0,1],"title":"temp"},"yaxis":{"domain":[0,1],"title":"falhas"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[70,57,70,58,63],"y":[1,1,1,1,1],"mode":"markers","type":"scatter","name":"1","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[53,75],"y":[2,2],"mode":"markers","type":"scatter","name":"2","marker":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p></p>
<p><strong>Modelo de Regressão Linear SEM zeros:</strong></p>
<pre class="r"><code>orings = 6
challenger2 &lt;- challenger2 %&gt;%
  dplyr::mutate(resp = falhas/orings)

# sum of squares
aov(resp ~ temp, data = challenger2)</code></pre>
<pre><code>## Call:
##    aov(formula = resp ~ temp, data = challenger2)
## 
## Terms:
##                       temp  Residuals
## Sum of Squares  0.00002271 0.03965983
## Deg. of Freedom          1          5
## 
## Residual standard error: 0.08906159
## Estimated effects may be unbalanced</code></pre>
<pre class="r"><code># regressao
fit1 &lt;- lm(resp ~ temp, data = challenger2)
summary(fit1)</code></pre>
<pre><code>## 
## Call:
## lm(formula = resp ~ temp, data = challenger2)
## 
## Residuals:
##        1        2        3        4        5        6        7 
##  0.12160 -0.04912 -0.04602 -0.04912  0.11636 -0.04626 -0.04745 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)
## (Intercept) 0.1990939  0.2859162   0.696    0.517
## temp        0.0002384  0.0044563   0.054    0.959
## 
## Residual standard error: 0.08906 on 5 degrees of freedom
## Multiple R-squared:  0.0005722,  Adjusted R-squared:  -0.1993 
## F-statistic: 0.002863 on 1 and 5 DF,  p-value: 0.9594</code></pre>
<p></p>
<p><strong>Plot:</strong></p>
<pre class="r"><code>challenger2 %&gt;% 
  plotly::plot_ly(x = ~temp) %&gt;%
  plotly::add_markers(y = ~resp, name = &quot;resp&quot;) %&gt;% 
  plotly::add_lines(x = ~temp, y = fitted(fit1), name = &quot;fit&quot;) %&gt;%
  plotly::layout(title = &quot;NASA Space Shuttle O-Ring Failures - Erro 1&quot;, yaxis=list(title=&quot;Prob. Estimada de Falha&quot;))</code></pre>
<div id="c45152a6a6a1" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c45152a6a6a1">{"x":{"visdat":{"c4517b64bd10":["function () ","plotlyVisDat"]},"cur_data":"c4517b64bd10","attrs":{"c4517b64bd10":{"x":{},"alpha":1,"sizes":[10,100],"y":{},"type":"scatter","mode":"markers","name":"resp"},"c4517b64bd10.1":{"x":{},"alpha":1,"sizes":[10,100],"y":[0.21173104434907,0.215784453981879,0.212684787792084,0.215784453981879,0.216976633285646,0.212923223652837,0.214115402956605],"type":"scatter","mode":"lines","name":"fit"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"NASA Space Shuttle O-Ring Failures - Erro 1","yaxis":{"domain":[0,1],"title":"Prob. Estimada de Falha"},"xaxis":{"domain":[0,1],"title":"temp"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[53,70,57,70,75,58,63],"y":[0.333333333333333,0.166666666666667,0.166666666666667,0.166666666666667,0.333333333333333,0.166666666666667,0.166666666666667],"type":"scatter","mode":"markers","name":"resp","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[53,57,58,63,70,70,75],"y":[0.21173104434907,0.212684787792084,0.212923223652837,0.214115402956605,0.215784453981879,0.215784453981879,0.216976633285646],"type":"scatter","mode":"lines","name":"fit","line":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p></p>
<p><strong>Função para automatizar plots diagnósticos:</strong></p>
<p>Neste exemplo, foi confeccionada uma função parar automatizar os plots diagnósticos para regressão linear.</p>
<pre class="r"><code>RegressionPlots &lt;- function(fit, range.plt5){
  
  # Extract fitted values from lm() object
  Fitted.Values &lt;-  fitted(fit)
  
  # Extract residuals from lm() object
  Residuals &lt;-  resid(fit)
  
  # Extract standardized residuals from lm() object
  Standardized.Residuals &lt;- MASS::stdres(fit)  
  
  # Extract fitted values for lm() object
  Theoretical.Quantiles &lt;- qqnorm(Residuals, plot.it = F)$x
  
  # Square root of abs(residuals)
  Root.Residuals &lt;- sqrt(abs(Standardized.Residuals))
  
  # Calculate Leverage
  Leverage &lt;- lm.influence(fit)$hat
  
  #Cook&#39;s Distance
  Cooks.d &lt;- cooks.distance(fit)
  # Cook.d &lt;- influence.measures(fit)$infmat[,&quot;cook.d&quot;]
  

  # Create data frame 
  # Will be used as input to plot_ly
  
  regMat &lt;- data.frame(Fitted.Values, 
                       Residuals, 
                       Standardized.Residuals, 
                       Theoretical.Quantiles,
                       Root.Residuals,
                       Leverage,
                       Cooks.d)
  
  
  plt1 &lt;- regMat %&gt;% 
    plotly::plot_ly(x = ~Fitted.Values, y = ~Residuals, 
            type = &quot;scatter&quot;, mode = &quot;markers&quot;, hoverinfo = &quot;x+y&quot;, name = &quot;Data&quot;,
            marker = list(size = 10, opacity = 0.5), showlegend = F) %&gt;%
    #layout(title = &quot;Residuals vs Fitted Values&quot;, plot_bgcolor = &quot;#e6e6e6&quot;, width = 1000) 
    plotly::layout(title = &quot;Residuals vs Fitted Values&quot;) # usar backgorund branco
    
  plt2 &lt;- regMat %&gt;% 
    plotly::plot_ly(x = ~Fitted.Values, y = ~Standardized.Residuals, 
            type = &quot;scatter&quot;, mode = &quot;markers&quot;, hoverinfo = &quot;x+y&quot;, name = &quot;Data&quot;,
            marker = list(size = 10, opacity = 0.5), showlegend = F) %&gt;%
    plotly::layout(title = &quot;Standardized Residuals vs Fitted Values&quot;)
    
  plt3 &lt;- regMat %&gt;% 
    plotly::plot_ly(x = ~Leverage, y = ~Standardized.Residuals, 
            type = &quot;scatter&quot;, mode = &quot;markers&quot;, hoverinfo = &quot;x+y&quot;, name = &quot;Data&quot;,
            marker = list(size = 10, opacity = 0.5), showlegend = F) %&gt;%
    plotly::layout(title = &quot;Residuals vs Fitted Values&quot;)
  
  plt4 &lt;- regMat %&gt;% 
    plotly::plot_ly(x = ~Theoretical.Quantiles) %&gt;% 
    plotly::add_markers(y = ~Standardized.Residuals, name = &quot;std.res&quot;, type = &quot;scatter&quot;, mode = &quot;markers&quot;, hoverinfo = &quot;x+y&quot;, name = &quot;Data&quot;,
            marker = list(size = 10, opacity = 0.5), showlegend = F) %&gt;%
    plotly::add_lines(x = Theoretical.Quantiles, y = Theoretical.Quantiles, type=&quot;scatter&quot;, mode = &quot;lines&quot;, name=&quot;qq&quot;) %&gt;%
    plotly::layout(title = &quot;Standardized Residuals vs Theoretical Quantiles&quot;) # usar backgorund branco
  
  
  # a &lt;- list(autotick = FALSE, ticks = &quot;outside&quot;, tick0 = 0, dtick = 0.25, ticklen = 5, tickwidth = 2, tickcolor = toRGB(&quot;blue&quot;))
  
  #Fitted.axis &lt;- list(autotick = FALSE, ticks = &quot;outside&quot;, tick0 = 0, ticklen = 0.5, dtick = 0.1)
  
  plt5 &lt;- regMat %&gt;% 
    plotly::plot_ly(x = ~Fitted.Values) %&gt;%
    plotly::add_markers(y = ~resp, name = &quot;resp&quot;, data = fit$model, type = &quot;scatter&quot;, mode = &quot;markers&quot;, hoverinfo = &quot;x+y&quot;, name = &quot;Data&quot;,
            marker = list(size = 10, opacity = 0.5), showlegend = F) %&gt;%
    #plotly::add_trace(x = c(0.15, .35), y= c(0.15, .35), mode = &quot;lines&quot;, name=&quot;abline&quot;) %&gt;% # ate 0.5 para a escala nao ficar ruim
    plotly::add_trace(x = range.plt5, y= range.plt5, mode = &quot;lines&quot;, name=&quot;abline&quot;) %&gt;% # ate 0.5 para a escala nao ficar ruim
    plotly::layout(title = &quot;Resp vs Fitted Values&quot;) # usar backgorund branco
  #ok!
  
  obs &lt;- seq(1, nrow(fit$model), by =1)
  plt6 &lt;- regMat %&gt;%
    plotly::plot_ly(showlegend = F) %&gt;%
    plotly::add_markers( y = ~Cooks.d, x = obs, 
            type = &quot;scatter&quot;, mode = &quot;markers&quot;, hoverinfo = &quot;x+y&quot;, name = &quot;Data&quot;,
            marker = list(size = 10, opacity = 0.5), showlegend = F) %&gt;%
    plotly::add_segments(x= obs, xend = obs, y = 0, yend = ~Cooks.d, mode=&quot;lines&quot;, color = I(&quot;gray80&quot;)) %&gt;%
    plotly::layout(title = &quot;Cook&#39;s distance&quot;, xaxis = list(title=&quot;Observations&quot;))
  
  return(list(plt1, plt2, plt3, plt4, plt5, plt6))

}</code></pre>
<p><strong>Plots diagnósticos:</strong></p>
<pre class="r"><code>plt &lt;- RegressionPlots(fit1, range.plt5 = c(0.15, 0.35))</code></pre>
<div class="row">
<div class="col-md-6">
<pre class="r"><code>plt[[1]]</code></pre>
<div id="c4516380f93e" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c4516380f93e">{"x":{"visdat":{"c4515404212c":["function () ","plotlyVisDat"]},"cur_data":"c4515404212c","attrs":{"c4515404212c":{"x":{},"y":{},"mode":"markers","hoverinfo":"x+y","name":"Data","marker":{"size":10,"opacity":0.5},"showlegend":false,"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Residuals vs Fitted Values","xaxis":{"domain":[0,1],"title":"Fitted.Values"},"yaxis":{"domain":[0,1],"title":"Residuals"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.21173104434907,0.215784453981879,0.212684787792084,0.215784453981879,0.216976633285646,0.212923223652837,0.214115402956605],"y":[0.121602288984263,-0.0491177873152122,-0.0460181211254172,-0.0491177873152122,0.116356700047687,-0.0462565569861707,-0.047448736289938],"mode":"markers","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"name":"Data","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"showlegend":false,"type":"scatter","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<pre class="r"><code>plt[[3]]</code></pre>
<div id="c4512dc6c031" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c4512dc6c031">{"x":{"visdat":{"c4515cfbb680":["function () ","plotlyVisDat"]},"cur_data":"c4515cfbb680","attrs":{"c4515cfbb680":{"x":{},"y":{},"mode":"markers","hoverinfo":"x+y","name":"Data","marker":{"size":10,"opacity":0.5},"showlegend":false,"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Residuals vs Fitted Values","xaxis":{"domain":[0,1],"title":"Leverage"},"yaxis":{"domain":[0,1],"title":"Standardized.Residuals"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.430257510729614,0.241773962804006,0.255722460658083,0.241773962804006,0.46173104434907,0.224606580829757,0.144134477825465],"y":[1.80888940649607,-0.633357644979848,-0.598923006611071,-0.633357644979848,1.78074321892866,-0.589823155416138,-0.57587928171428],"mode":"markers","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"name":"Data","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"showlegend":false,"type":"scatter","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<pre class="r"><code>plt[[5]]</code></pre>
<div id="c4512066b026" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c4512066b026">{"x":{"visdat":{"c4517beaf280":["function () ","plotlyVisDat"],"c45143117636":["function () ","data"]},"cur_data":"c45143117636","attrs":{"c45143117636":{"x":{},"alpha":1,"sizes":[10,100],"y":{},"type":"scatter","mode":"markers","name":"resp","hoverinfo":"x+y","marker":{"size":10,"opacity":0.5},"showlegend":false},"c45143117636.1":{"x":[0.15,0.35],"alpha":1,"sizes":[10,100],"y":[0.15,0.35],"mode":"lines","name":"abline"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Resp vs Fitted Values","xaxis":{"domain":[0,1],"title":"Fitted.Values"},"yaxis":{"domain":[0,1],"title":"resp"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.21173104434907,0.215784453981879,0.212684787792084,0.215784453981879,0.216976633285646,0.212923223652837,0.214115402956605],"y":[0.333333333333333,0.166666666666667,0.166666666666667,0.166666666666667,0.333333333333333,0.166666666666667,0.166666666666667],"type":"scatter","mode":"markers","name":"resp","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[0.15,0.35],"y":[0.15,0.35],"mode":"lines","name":"abline","type":"scatter","line":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
<div class="col-md-6">
<pre class="r"><code>plt[[2]]</code></pre>
<div id="c45176f049f1" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c45176f049f1">{"x":{"visdat":{"c451348fa9bc":["function () ","plotlyVisDat"]},"cur_data":"c451348fa9bc","attrs":{"c451348fa9bc":{"x":{},"y":{},"mode":"markers","hoverinfo":"x+y","name":"Data","marker":{"size":10,"opacity":0.5},"showlegend":false,"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Standardized Residuals vs Fitted Values","xaxis":{"domain":[0,1],"title":"Fitted.Values"},"yaxis":{"domain":[0,1],"title":"Standardized.Residuals"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.21173104434907,0.215784453981879,0.212684787792084,0.215784453981879,0.216976633285646,0.212923223652837,0.214115402956605],"y":[1.80888940649607,-0.633357644979848,-0.598923006611071,-0.633357644979848,1.78074321892866,-0.589823155416138,-0.57587928171428],"mode":"markers","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"name":"Data","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"showlegend":false,"type":"scatter","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<pre class="r"><code>plt[[4]]</code></pre>
<div id="c451440076c5" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c451440076c5">{"x":{"visdat":{"c45178e72c4e":["function () ","plotlyVisDat"]},"cur_data":"c45178e72c4e","attrs":{"c45178e72c4e":{"x":{},"alpha":1,"sizes":[10,100],"y":{},"type":"scatter","mode":"markers","name":"std.res","hoverinfo":"x+y","marker":{"size":10,"opacity":0.5},"showlegend":false},"c45178e72c4e.1":{"x":[1.36448874817033,-1.36448874817033,0.352933986126917,-0.758292556991152,0.758292556991152,0,-0.352933986126916],"alpha":1,"sizes":[10,100],"y":[1.36448874817033,-1.36448874817033,0.352933986126917,-0.758292556991152,0.758292556991152,0,-0.352933986126916],"type":"scatter","mode":"lines","name":"qq"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Standardized Residuals vs Theoretical Quantiles","xaxis":{"domain":[0,1],"title":"Theoretical.Quantiles"},"yaxis":{"domain":[0,1],"title":"Standardized.Residuals"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1.36448874817033,-1.36448874817033,0.352933986126917,-0.758292556991152,0.758292556991152,0,-0.352933986126916],"y":[1.80888940649607,-0.633357644979848,-0.598923006611071,-0.633357644979848,1.78074321892866,-0.589823155416138,-0.57587928171428],"type":"scatter","mode":"markers","name":"std.res","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[-1.36448874817033,-0.758292556991152,-0.352933986126916,0,0.352933986126917,0.758292556991152,1.36448874817033],"y":[-1.36448874817033,-0.758292556991152,-0.352933986126916,0,0.352933986126917,0.758292556991152,1.36448874817033],"type":"scatter","mode":"lines","name":"qq","line":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<pre class="r"><code>plt[[6]]</code></pre>
<div id="c4514d486657" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c4514d486657">{"x":{"visdat":{"c45117b8da77":["function () ","plotlyVisDat"]},"cur_data":"c45117b8da77","attrs":{"c45117b8da77":{"showlegend":false,"alpha":1,"sizes":[10,100],"x":[1,2,3,4,5,6,7],"y":{},"type":"scatter","mode":"markers","hoverinfo":"x+y","name":"Data","marker":{"size":10,"opacity":0.5}},"c45117b8da77.1":{"showlegend":false,"alpha":1,"sizes":[10,100],"x":[1,2,3,4,5,6,7],"y":0,"xend":[1,2,3,4,5,6,7],"yend":{},"type":"scatter","mode":"lines","color":["gray80"]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Cook's distance","xaxis":{"domain":[0,1],"title":"Observations"},"yaxis":{"domain":[0,1],"title":"Cooks.d"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"showlegend":false,"x":[1,2,3,4,5,6,7],"y":[1.23550323432996,0.0639556435762234,0.0616234428186815,0.0639556435762234,1.36007339454574,0.0503864784893106,0.0279251336574227],"type":"scatter","mode":"markers","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"name":"Data","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"showlegend":false,"x":[1,1,null,2,2,null,3,3,null,4,4,null,5,5,null,6,6,null,7,7],"y":[0,1.23550323432996,null,0,0.0639556435762234,null,0,0.0616234428186815,null,0,0.0639556435762234,null,0,1.36007339454574,null,0,0.0503864784893106,null,0,0.0279251336574227],"type":"scatter","mode":"lines","line":{"fillcolor":"rgba(204,204,204,1)","color":"rgba(204,204,204,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
</div>
<hr />
</div>
<div id="analise-incorreta-2---regressao-linear-com-zeros" class="section level4">
<h4>Análise Incorreta 2 - Regressão Linear <strong>COM</strong> zeros</h4>
<p><strong>Modelo de Regressão Linear COM zeros:</strong></p>
<pre class="r"><code># dados
orings = 6
challenger &lt;- challenger %&gt;%
  dplyr::mutate(resp = falhas/orings)

# removendo os zeros
# sum of squares
aov(resp ~ temp, data = challenger)</code></pre>
<pre><code>## Call:
##    aov(formula = resp ~ temp, data = challenger)
## 
## Terms:
##                      temp Residuals
## Sum of Squares  0.0691364 0.1941486
## Deg. of Freedom         1        21
## 
## Residual standard error: 0.09615182
## Estimated effects may be unbalanced</code></pre>
<pre class="r"><code># regressao
fit2 &lt;- lm(resp ~ temp, data = challenger)
summary(fit2)</code></pre>
<pre><code>## 
## Call:
## lm(formula = resp ~ temp, data = challenger)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.09348 -0.06539 -0.01323  0.01485  0.31207 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)   
## (Intercept)  0.623077   0.204982   3.040  0.00623 **
## temp        -0.008024   0.002934  -2.735  0.01242 * 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.09615 on 21 degrees of freedom
## Multiple R-squared:  0.2626, Adjusted R-squared:  0.2275 
## F-statistic: 7.478 on 1 and 21 DF,  p-value: 0.01242</code></pre>
<p><strong>Plot:</strong></p>
<pre class="r"><code>challenger %&gt;% 
  plotly::plot_ly(x = ~temp) %&gt;%
  plotly::add_markers(y = ~resp, name = &quot;resp&quot;) %&gt;% 
  plotly::add_lines(x = ~temp, y = fitted(fit2), name = &quot;fit&quot;) %&gt;%
  plotly::add_ribbons(data = broom::augment(fit2),
              ymin = ~.fitted - qnorm(0.975) * .se.fit,
              ymax = ~.fitted + qnorm(0.975) * .se.fit,
              line = list(color = &#39;rgba(138,43,226, 0.05)&#39;, opacity = 0.1),
              fillcolor = &#39;rgba(138,43,226, 0.2)&#39;, opacity = 0.25,
              name = &quot;95% conf.&quot;) %&gt;%
  plotly::layout(title = &quot;NASA Space Shuttle O-Ring Failures - Erro&quot;, yaxis=list(title=&quot;Prob. Estimada de Falha&quot;))</code></pre>
<div id="c451ccbb3d2" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c451ccbb3d2">{"x":{"visdat":{"c451510e2579":["function () ","plotlyVisDat"],"c45176ef52b0":["function () ","data"]},"cur_data":"c45176ef52b0","attrs":{"c451510e2579":{"x":{},"alpha":1,"sizes":[10,100],"y":{},"type":"scatter","mode":"markers","name":"resp"},"c451510e2579.1":{"x":{},"alpha":1,"sizes":[10,100],"y":[0.197791815138755,0.0934766763848396,0.077428193499622,0.0613797106144045,0.0212585034013605,-0.00281422092646589,0.165694849368319,0.0854524349422308,0.0694039520570132,0.0613797106144045,0.0212585034013604,-0.0108384623690747,0.15767060792571,0.0854524349422308,0.0613797106144045,0.0453312277291869,0.0132342619587517,-0.0188627038116835,0.117549400712666,0.0854524349422308,0.0613797106144045,0.0373069862865781,0.0132342619587517],"type":"scatter","mode":"lines","name":"fit"},"c45176ef52b0":{"x":{},"alpha":1,"sizes":[10,100],"ymin":{},"ymax":{},"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","line":{"color":"rgba(138,43,226, 0.05)","opacity":0.1},"fillcolor":"rgba(138,43,226, 0.2)","opacity":0.25,"name":"95% conf."}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"NASA Space Shuttle O-Ring Failures - Erro","yaxis":{"domain":[0,1],"title":"Prob. Estimada de Falha"},"xaxis":{"domain":[0,1],"title":"temp"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[53,66,68,70,75,78,57,67,69,70,75,79,58,67,70,72,76,80,63,67,70,73,76],"y":[0.333333333333333,0,0,0.166666666666667,0,0,0.166666666666667,0,0,0.166666666666667,0.333333333333333,0,0.166666666666667,0,0,0,0,0,0.166666666666667,0,0,0,0],"type":"scatter","mode":"markers","name":"resp","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[53,57,58,63,66,67,67,67,68,69,70,70,70,70,72,73,75,75,76,76,78,79,80],"y":[0.197791815138755,0.165694849368319,0.15767060792571,0.117549400712666,0.0934766763848396,0.0854524349422308,0.0854524349422308,0.0854524349422308,0.077428193499622,0.0694039520570132,0.0613797106144045,0.0613797106144045,0.0613797106144045,0.0613797106144045,0.0453312277291869,0.0373069862865781,0.0212585034013605,0.0212585034013604,0.0132342619587517,0.0132342619587517,-0.00281422092646589,-0.0108384623690747,-0.0188627038116835],"type":"scatter","mode":"lines","name":"fit","line":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[53,57,58,63,66,67,67,67,68,69,70,70,70,70,72,73,75,75,76,76,78,79,80,80,80,79,78,76,76,75,75,73,72,70,70,70,70,69,68,67,67,67,66,63,58,57,53],"type":"scatter","mode":"lines","hoveron":"points","fill":"toself","line":{"fillcolor":"rgba(44,160,44,1)","color":"rgba(138,43,226, 0.05)","opacity":0.1},"fillcolor":"rgba(138,43,226, 0.2)","opacity":0.25,"name":"95% conf.","y":[0.0949676849904617,0.0836568196353977,0.0806318043542334,0.0632267475274758,0.0492685587285286,0.0435661145476588,0.0435661145476588,0.0435661145476588,0.0371700027701005,0.0299941573281947,0.0219881653863232,0.0219881653863232,0.0219881653863232,0.0219881653863232,0.00353082808231068,-0.00678712977138135,-0.0291079749044244,-0.0291079749044244,-0.0409160431431329,-0.0409160431431329,-0.0654373644073965,-0.0780365817664147,-0.0908048216341413,-0.0908048216341413,0.0530794140107743,0.0563596570282653,0.0598089225544647,0.0673845670606362,0.0673845670606362,0.0716249817071454,0.0716249817071454,0.0814011023445374,0.087131627376063,0.100771255842486,0.100771255842486,0.100771255842486,0.100771255842486,0.108813746785832,0.117686384229144,0.127338755336803,0.127338755336803,0.127338755336803,0.137684794041151,0.171872053897856,0.234709411497187,0.24773287910124,0.300615945287046],"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<p><strong>Plots diagnósticos:</strong></p>
<pre class="r"><code>plt2 &lt;- RegressionPlots(fit2, range.plt5 = c(0, 0.35))</code></pre>
<div class="row">
<div class="col-md-6">
<pre class="r"><code>plt2[[1]]</code></pre>
<div id="c451649e692e" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c451649e692e">{"x":{"visdat":{"c451206f80ca":["function () ","plotlyVisDat"]},"cur_data":"c451206f80ca","attrs":{"c451206f80ca":{"x":{},"y":{},"mode":"markers","hoverinfo":"x+y","name":"Data","marker":{"size":10,"opacity":0.5},"showlegend":false,"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Residuals vs Fitted Values","xaxis":{"domain":[0,1],"title":"Fitted.Values"},"yaxis":{"domain":[0,1],"title":"Residuals"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.197791815138755,0.0934766763848396,0.077428193499622,0.0613797106144045,0.0212585034013605,-0.00281422092646589,0.165694849368319,0.0854524349422308,0.0694039520570132,0.0613797106144045,0.0212585034013604,-0.0108384623690747,0.15767060792571,0.0854524349422308,0.0613797106144045,0.0453312277291869,0.0132342619587517,-0.0188627038116835,0.117549400712666,0.0854524349422308,0.0613797106144045,0.0373069862865781,0.0132342619587517],"y":[0.135541518194579,-0.0934766763848396,-0.077428193499622,0.105286956052262,-0.0212585034013605,0.00281422092646589,0.000971817298347874,-0.0854524349422308,-0.0694039520570132,0.105286956052262,0.312074829931973,0.0108384623690747,0.00899605874095667,-0.0854524349422308,-0.0613797106144045,-0.0453312277291869,-0.0132342619587517,0.0188627038116835,0.0491172659540006,-0.0854524349422308,-0.0613797106144045,-0.0373069862865781,-0.0132342619587517],"mode":"markers","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"name":"Data","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"showlegend":false,"type":"scatter","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<pre class="r"><code>plt2[[3]]</code></pre>
<div id="c4517ac78b91" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c4517ac78b91">{"x":{"visdat":{"c4516bc4df7":["function () ","plotlyVisDat"]},"cur_data":"c4516bc4df7","attrs":{"c4516bc4df7":{"x":{},"y":{},"mode":"markers","hoverinfo":"x+y","name":"Data","marker":{"size":10,"opacity":0.5},"showlegend":false,"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Residuals vs Fitted Values","xaxis":{"domain":[0,1],"title":"Leverage"},"yaxis":{"domain":[0,1],"title":"Standardized.Residuals"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.297700032393912,0.0550291545189504,0.0456349206349206,0.0436912860382248,0.0714285714285714,0.110422740524781,0.189504373177842,0.0494007126660188,0.043731778425656,0.0436912860382248,0.0714285714285714,0.127146096533851,0.167112082928409,0.0494007126660188,0.0436912860382248,0.049198250728863,0.0825639779721412,0.145732102364755,0.0830903790087462,0.0494007126660188,0.0436912860382248,0.0547457078069323,0.0825639779721412],"y":[1.68210657887854,-1.00008415216154,-0.824298186737511,1.11974208472427,-0.229439145397179,0.0310319337672936,0.0112266911451155,-0.911524167842025,-0.73813674779535,1.11974208472427,3.3681666544306,0.120653349383922,0.102518322074958,-0.911524167842025,-0.652782146052639,-0.483498335313557,-0.14369919011024,0.212250826425162,0.533474183341926,-0.911524167842025,-0.652782146052639,-0.399078495425876,-0.14369919011024],"mode":"markers","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"name":"Data","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"showlegend":false,"type":"scatter","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<pre class="r"><code>plt2[[5]]</code></pre>
<div id="c4516b7faf17" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c4516b7faf17">{"x":{"visdat":{"c4515bd49cf3":["function () ","plotlyVisDat"],"c45149031771":["function () ","data"]},"cur_data":"c45149031771","attrs":{"c45149031771":{"x":{},"alpha":1,"sizes":[10,100],"y":{},"type":"scatter","mode":"markers","name":"resp","hoverinfo":"x+y","marker":{"size":10,"opacity":0.5},"showlegend":false},"c45149031771.1":{"x":[0,0.35],"alpha":1,"sizes":[10,100],"y":[0,0.35],"mode":"lines","name":"abline"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Resp vs Fitted Values","xaxis":{"domain":[0,1],"title":"Fitted.Values"},"yaxis":{"domain":[0,1],"title":"resp"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.197791815138755,0.0934766763848396,0.077428193499622,0.0613797106144045,0.0212585034013605,-0.00281422092646589,0.165694849368319,0.0854524349422308,0.0694039520570132,0.0613797106144045,0.0212585034013604,-0.0108384623690747,0.15767060792571,0.0854524349422308,0.0613797106144045,0.0453312277291869,0.0132342619587517,-0.0188627038116835,0.117549400712666,0.0854524349422308,0.0613797106144045,0.0373069862865781,0.0132342619587517],"y":[0.333333333333333,0,0,0.166666666666667,0,0,0.166666666666667,0,0,0.166666666666667,0.333333333333333,0,0.166666666666667,0,0,0,0,0,0.166666666666667,0,0,0,0],"type":"scatter","mode":"markers","name":"resp","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[0,0.35],"y":[0,0.35],"mode":"lines","name":"abline","type":"scatter","line":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
<div class="col-md-6">
<pre class="r"><code>plt2[[2]]</code></pre>
<div id="c45144d943a8" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c45144d943a8">{"x":{"visdat":{"c4515e285c77":["function () ","plotlyVisDat"]},"cur_data":"c4515e285c77","attrs":{"c4515e285c77":{"x":{},"y":{},"mode":"markers","hoverinfo":"x+y","name":"Data","marker":{"size":10,"opacity":0.5},"showlegend":false,"alpha":1,"sizes":[10,100],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Standardized Residuals vs Fitted Values","xaxis":{"domain":[0,1],"title":"Fitted.Values"},"yaxis":{"domain":[0,1],"title":"Standardized.Residuals"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0.197791815138755,0.0934766763848396,0.077428193499622,0.0613797106144045,0.0212585034013605,-0.00281422092646589,0.165694849368319,0.0854524349422308,0.0694039520570132,0.0613797106144045,0.0212585034013604,-0.0108384623690747,0.15767060792571,0.0854524349422308,0.0613797106144045,0.0453312277291869,0.0132342619587517,-0.0188627038116835,0.117549400712666,0.0854524349422308,0.0613797106144045,0.0373069862865781,0.0132342619587517],"y":[1.68210657887854,-1.00008415216154,-0.824298186737511,1.11974208472427,-0.229439145397179,0.0310319337672936,0.0112266911451155,-0.911524167842025,-0.73813674779535,1.11974208472427,3.3681666544306,0.120653349383922,0.102518322074958,-0.911524167842025,-0.652782146052639,-0.483498335313557,-0.14369919011024,0.212250826425162,0.533474183341926,-0.911524167842025,-0.652782146052639,-0.399078495425876,-0.14369919011024],"mode":"markers","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"name":"Data","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"showlegend":false,"type":"scatter","xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<pre class="r"><code>plt2[[4]]</code></pre>
<div id="c451268e112" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c451268e112">{"x":{"visdat":{"c45174e422a9":["function () ","plotlyVisDat"]},"cur_data":"c45174e422a9","attrs":{"c45174e422a9":{"x":{},"alpha":1,"sizes":[10,100],"y":{},"type":"scatter","mode":"markers","name":"std.res","hoverinfo":"x+y","marker":{"size":10,"opacity":0.5},"showlegend":false},"c45174e422a9.1":{"x":[1.51238958606768,-2.01908620058314,-0.857254320221178,1.027154272915,-0.109200481691432,0.333005098197297,0.21972291581858,-1.51238958606768,-0.709102503409024,1.23349456196869,2.01908620058314,0.575109281278438,0.450744212615359,-1.23349456196869,-0.575109281278438,-0.333005098197297,0,0.709102503409024,0.857254320221178,-1.027154272915,-0.450744212615359,-0.21972291581858,0.109200481691432],"alpha":1,"sizes":[10,100],"y":[1.51238958606768,-2.01908620058314,-0.857254320221178,1.027154272915,-0.109200481691432,0.333005098197297,0.21972291581858,-1.51238958606768,-0.709102503409024,1.23349456196869,2.01908620058314,0.575109281278438,0.450744212615359,-1.23349456196869,-0.575109281278438,-0.333005098197297,0,0.709102503409024,0.857254320221178,-1.027154272915,-0.450744212615359,-0.21972291581858,0.109200481691432],"type":"scatter","mode":"lines","name":"qq"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Standardized Residuals vs Theoretical Quantiles","xaxis":{"domain":[0,1],"title":"Theoretical.Quantiles"},"yaxis":{"domain":[0,1],"title":"Standardized.Residuals"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[1.51238958606768,-2.01908620058314,-0.857254320221178,1.027154272915,-0.109200481691432,0.333005098197297,0.21972291581858,-1.51238958606768,-0.709102503409024,1.23349456196869,2.01908620058314,0.575109281278438,0.450744212615359,-1.23349456196869,-0.575109281278438,-0.333005098197297,0,0.709102503409024,0.857254320221178,-1.027154272915,-0.450744212615359,-0.21972291581858,0.109200481691432],"y":[1.68210657887854,-1.00008415216154,-0.824298186737511,1.11974208472427,-0.229439145397179,0.0310319337672936,0.0112266911451155,-0.911524167842025,-0.73813674779535,1.11974208472427,3.3681666544306,0.120653349383922,0.102518322074958,-0.911524167842025,-0.652782146052639,-0.483498335313557,-0.14369919011024,0.212250826425162,0.533474183341926,-0.911524167842025,-0.652782146052639,-0.399078495425876,-0.14369919011024],"type":"scatter","mode":"markers","name":"std.res","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[-2.01908620058314,-1.51238958606768,-1.23349456196869,-1.027154272915,-0.857254320221178,-0.709102503409024,-0.575109281278438,-0.450744212615359,-0.333005098197297,-0.21972291581858,-0.109200481691432,0,0.109200481691432,0.21972291581858,0.333005098197297,0.450744212615359,0.575109281278438,0.709102503409024,0.857254320221178,1.027154272915,1.23349456196869,1.51238958606768,2.01908620058314],"y":[-2.01908620058314,-1.51238958606768,-1.23349456196869,-1.027154272915,-0.857254320221178,-0.709102503409024,-0.575109281278438,-0.450744212615359,-0.333005098197297,-0.21972291581858,-0.109200481691432,0,0.109200481691432,0.21972291581858,0.333005098197297,0.450744212615359,0.575109281278438,0.709102503409024,0.857254320221178,1.027154272915,1.23349456196869,1.51238958606768,2.01908620058314],"type":"scatter","mode":"lines","name":"qq","line":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<pre class="r"><code>plt2[[6]]</code></pre>
<div id="c45117b9d4f4" style="width:432px;height:384px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c45117b9d4f4">{"x":{"visdat":{"c4513544f979":["function () ","plotlyVisDat"]},"cur_data":"c4513544f979","attrs":{"c4513544f979":{"showlegend":false,"alpha":1,"sizes":[10,100],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":{},"type":"scatter","mode":"markers","hoverinfo":"x+y","name":"Data","marker":{"size":10,"opacity":0.5}},"c4513544f979.1":{"showlegend":false,"alpha":1,"sizes":[10,100],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":0,"xend":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"yend":{},"type":"scatter","mode":"lines","color":["gray80"]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Cook's distance","xaxis":{"domain":[0,1],"title":"Observations"},"yaxis":{"domain":[0,1],"title":"Cooks.d"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"showlegend":false,"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],"y":[0.599698906076399,0.0291217537643856,0.0162450649845647,0.0286419592003761,0.00202470467079184,5.9767148042057e-05,1.47347277237554e-05,0.0215894764108731,0.0124583656656836,0.0286419592003761,0.436328715846853,0.00106025478876263,0.00105437299460631,0.0215894764108731,0.00973426701298411,0.00604810970369537,0.000929166335105557,0.00384264202332258,0.0128949905760437,0.0215894764108731,0.00973426701298411,0.00461198699304719,0.000929166335105557],"type":"scatter","mode":"markers","hoverinfo":["x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y","x+y"],"name":"Data","marker":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)","size":10,"opacity":0.5,"line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"showlegend":false,"x":[1,1,null,2,2,null,3,3,null,4,4,null,5,5,null,6,6,null,7,7,null,8,8,null,9,9,null,10,10,null,11,11,null,12,12,null,13,13,null,14,14,null,15,15,null,16,16,null,17,17,null,18,18,null,19,19,null,20,20,null,21,21,null,22,22,null,23,23],"y":[0,0.599698906076399,null,0,0.0291217537643856,null,0,0.0162450649845647,null,0,0.0286419592003761,null,0,0.00202470467079184,null,0,5.9767148042057e-05,null,0,1.47347277237554e-05,null,0,0.0215894764108731,null,0,0.0124583656656836,null,0,0.0286419592003761,null,0,0.436328715846853,null,0,0.00106025478876263,null,0,0.00105437299460631,null,0,0.0215894764108731,null,0,0.00973426701298411,null,0,0.00604810970369537,null,0,0.000929166335105557,null,0,0.00384264202332258,null,0,0.0128949905760437,null,0,0.0215894764108731,null,0,0.00973426701298411,null,0,0.00461198699304719,null,0,0.000929166335105557],"type":"scatter","mode":"lines","line":{"fillcolor":"rgba(204,204,204,1)","color":"rgba(204,204,204,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
</div>
</div>
<hr />
<hr />
</div>
</div>
<div id="analise-correta" class="section level3">
<h3>Análise Correta</h3>
<hr />
<div id="regressao-logistica-com-zeros" class="section level4">
<h4>Regressão <strong>Logística</strong> com zeros</h4>
<p></p>
<p></p>
<p><strong>Modelo de Regressão Logística (Binomial Regression):</strong></p>
<pre class="r"><code># precisamos passar os pesos - contagens para a funcao glm!!!
# eh um caso de utilizacao da funcao de veross da binomial mesmo (k sucessos em n trials)
#...e nao da bernoulli (sucesso ou fracasso para cada trial)
# ver: https://stats.stackexchange.com/questions/90622/regression-model-where-output-is-a-probability
# e https://www.r-bloggers.com/binomial-regression-model/
# como dividimos todas as falhas por 6 -- nossos pesos sao todos 6
# ai bate certinho com o SAS, inclusive SE e AIC

fit3 &lt;- glm(resp ~ temp, data = challenger, weights = rep(6, nrow(challenger)),  family=binomial(link=&quot;logit&quot;))

summary(fit3)</code></pre>
<pre><code>## 
## Call:
## glm(formula = resp ~ temp, family = binomial(link = &quot;logit&quot;), 
##     data = challenger, weights = rep(6, nrow(challenger)))
## 
## Deviance Residuals: 
##      Min        1Q    Median        3Q       Max  
## -0.95159  -0.78221  -0.54035  -0.04366   2.65354  
## 
## Coefficients:
##             Estimate Std. Error z value Pr(&gt;|z|)  
## (Intercept)  5.09395    3.05524   1.667   0.0955 .
## temp        -0.11576    0.04707  -2.459   0.0139 *
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 24.230  on 22  degrees of freedom
## Residual deviance: 18.106  on 21  degrees of freedom
## AIC: 35.667
## 
## Number of Fisher Scoring iterations: 5</code></pre>
<p></p>
<p><strong>Testes e demais estatísticas do modelo:</strong></p>
<pre class="r"><code># logLik
-2*logLik(fit3)</code></pre>
<pre><code>## &#39;log Lik.&#39; 31.66661 (df=2)</code></pre>
<pre class="r"><code># OR
exp(confint.default(fit3))</code></pre>
<pre><code>##                 2.5 %       97.5 %
## (Intercept) 0.4089341 6.499780e+04
## temp        0.8122004 9.767629e-01</code></pre>
<pre class="r"><code># testes para existência de regressão
# 1) razao de verossimilhancas
#library(lmtest)
lmtest::lrtest(fit3)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["#Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["LogLik"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Df"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Chisq"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chisq)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"2","2":"-15.83330","3":"NA","4":"NA","5":"NA","_rn_":"1"},{"1":"1","2":"-18.89529","3":"-1","4":"6.123971","5":"0.01333609","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># 2) teste de Wald
lmtest::waldtest(fit3)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Res.Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Df"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["F"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Pr(>F)"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"21","2":"NA","3":"NA","4":"NA","_rn_":"1"},{"1":"22","2":"-1","3":"6.049137","4":"0.0226725","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># 3) Score
anova(fit3,test=&quot;Rao&quot;)</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["int"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Resid. Df"],"name":[3],"type":["int"],"align":["right"]},{"label":["Resid. Dev"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Rao"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"NA","3":"22","4":"24.23036","5":"NA","6":"NA","_rn_":"NULL"},{"1":"1","2":"6.123971","3":"21","4":"18.10639","5":"6.804309","6":"0.009093812","_rn_":"temp"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p></p>
<p><strong>Ajustes pré-plotagem:</strong></p>
<pre class="r"><code># criando obs artificiais para suavizar a curva
x_limits &lt;- challenger %&gt;%
  summarise(min = 30, max = max(temp)+2) # obtendo os limites do eixo x

x &lt;- seq(x_limits[[1]], x_limits[[2]], by=0.5) # criando varios ptos entre esses limites

# obtendo os valores de y de acordo com os parametros da reg logist
y &lt;- plogis(fit3$coefficients[1]+fit3$coefficients[2]*x)


# fazendo a predicao das obs artificiais
# ver sol: https://stackoverflow.com/questions/26694931/how-to-plot-logit-and-probit-in-ggplot2
temp.data = data.frame(temp = x) # se nao passar a coluna com o mesmo nome da variavel nao funciona


# Predict the fitted values given the model and hypothetical data
predicted.data &lt;- as.data.frame(predict(fit3, newdata = temp.data, 
                                        type=&quot;link&quot;, se=TRUE))

# Combine the hypothetical data and predicted values
new.data &lt;- cbind(temp.data, predicted.data)

# Calculate confidence intervals
std &lt;- qnorm(0.95 / 2 + 0.5)
new.data$ymin &lt;- fit3$family$linkinv(new.data$fit - std * new.data$se)
new.data$ymax &lt;- fit3$family$linkinv(new.data$fit + std * new.data$se)
new.data$fit &lt;- fit3$family$linkinv(new.data$fit)  # Rescale to 0-1</code></pre>
<p></p>
<p><strong>Plot:</strong></p>
<pre class="r"><code>plotly::plot_ly(x = ~x, y = ~y, name = &#39;fitted&#39;, type = &#39;scatter&#39;, mode = &#39;lines&#39;) %&gt;%
  plotly::add_trace(x= ~temp, y = ~resp, name = &#39;res&#39;, mode = &#39;markers&#39;, data=challenger) %&gt;%
  plotly::add_ribbons(data = new.data,
              ymin = ~ymin,
              ymax = ~ymax,
              line = list(color = &#39;rgba(138,43,226, 0.05)&#39;, opacity = 0.1),
              fillcolor = &#39;rgba(138,43,226, 0.2)&#39;, opacity = 0.25,
              name = &quot;95% conf.&quot;) %&gt;%
  plotly::layout(title = &quot;Predicted Probabilities for falhas/orings\n With 95% Confidence Limits&quot;)</code></pre>
<div id="c4511598a879" style="width:864px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="c4511598a879">{"x":{"visdat":{"c4516cbba434":["function () ","plotlyVisDat"],"c4514544e7e6":["function () ","data"],"c451583b534b":["function () ","data"]},"cur_data":"c451583b534b","attrs":{"c4516cbba434":{"x":{},"y":{},"name":"fitted","mode":"lines","alpha":1,"sizes":[10,100],"type":"scatter"},"c4514544e7e6":{"x":{},"y":{},"name":"res","mode":"markers","alpha":1,"sizes":[10,100],"type":"scatter"},"c451583b534b":{"x":{},"y":{},"name":"95% conf.","mode":"lines","alpha":1,"sizes":[10,100],"type":"scatter","ymin":{},"ymax":{},"hoveron":"points","fill":"toself","line":{"color":"rgba(138,43,226, 0.05)","opacity":0.1},"fillcolor":"rgba(138,43,226, 0.2)","opacity":0.25}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Predicted Probabilities for falhas/orings<br /> With 95% Confidence Limits","xaxis":{"domain":[0,1],"title":"x"},"yaxis":{"domain":[0,1],"title":"y"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[30,30.5,31,31.5,32,32.5,33,33.5,34,34.5,35,35.5,36,36.5,37,37.5,38,38.5,39,39.5,40,40.5,41,41.5,42,42.5,43,43.5,44,44.5,45,45.5,46,46.5,47,47.5,48,48.5,49,49.5,50,50.5,51,51.5,52,52.5,53,53.5,54,54.5,55,55.5,56,56.5,57,57.5,58,58.5,59,59.5,60,60.5,61,61.5,62,62.5,63,63.5,64,64.5,65,65.5,66,66.5,67,67.5,68,68.5,69,69.5,70,70.5,71,71.5,72,72.5,73,73.5,74,74.5,75,75.5,76,76.5,77,77.5,78,78.5,79,79.5,80,80.5,81,81.5,82],"y":[0.834955332096643,0.826823825452728,0.818378836761985,0.809616851219551,0.800535186355858,0.791132069665777,0.781406715119957,0.771359397495543,0.760991523377863,0.7503056976131,0.739305783938366,0.72799695848398,0.716385754836757,0.704480099376336,0.692289335651651,0.679824236653896,0.66709700396676,0.65412125293439,0.640911983181253,0.627485534043161,0.613859524721225,0.600052779244949,0.58608523662054,0.571977846837862,0.557752453705929,0.543431665773135,0.529038716855553,0.51459731793542,0.500131502394364,0.485665466704606,0.47122340881072,0.456829366490526,0.442507057984135,0.428279727125268,0.414169995100517,0.400199720804388,0.386389871556293,0.372760405707413,0.359330168398714,0.346116801445303,0.333136668026008,0.320404792559591,0.307934815858975,0.295738965380066,0.28382804012877,0.272211409564225,0.260897025641908,0.249891446979999,0.239199874007283,0.228826193861019,0.218773033747505,0.209041821454308,0.199632851708591,0.190545357107201,0.181777582397367,0.173326860958158,0.165189692418248,0.157361820441227,0.14983830981212,0.142613622064653,0.135681688995287,0.129035983514658,0.122669587387751,0.116575255509397,0.110745476450086,0.105172529088075,0.0998485352165182,0.0947655080788822,0.0899153968420167,0.0852901270643353,0.0808816372568018,0.0766819116674155,0.0726830094461328,0.0688770903672912,0.0652564373012315,0.0618134756365993,0.0585407898603588,0.0554311375044914,0.052477460667223,0.0496728953129732,0.0470107785495105,0.044484654073473,0.0420882759668488,0.0398156110175442,0.0376608397270979,0.0356183561581577,0.0336827667637553,0.0318488883298486,0.0301117451521977,0.0284665655585239,0.0269087778771361,0.0254340059438832,0.0240380642304437,0.0227169526686161,0.0214668512374639,0.0202841143728875,0.0191652652524422,0.018106990001999,0.0171061318651204,0.0161596853707917,0.0152647905303842,0.0144187270903943,0.0136189088635976,0.012862878157729,0.0121483003176397],"name":"fitted","mode":"lines","type":"scatter","line":{"fillcolor":"rgba(31,119,180,1)","color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[53,66,68,70,75,78,57,67,69,70,75,79,58,67,70,72,76,80,63,67,70,73,76],"y":[0.333333333333333,0,0,0.166666666666667,0,0,0.166666666666667,0,0,0.166666666666667,0.333333333333333,0,0.166666666666667,0,0,0,0,0,0.166666666666667,0,0,0,0],"name":"res","mode":"markers","type":"scatter","marker":{"fillcolor":"rgba(255,127,14,1)","color":"rgba(255,127,14,1)","line":{"color":"transparent"}},"xaxis":"x","yaxis":"y","frame":null},{"x":[30,30.5,31,31.5,32,32.5,33,33.5,34,34.5,35,35.5,36,36.5,37,37.5,38,38.5,39,39.5,40,40.5,41,41.5,42,42.5,43,43.5,44,44.5,45,45.5,46,46.5,47,47.5,48,48.5,49,49.5,50,50.5,51,51.5,52,52.5,53,53.5,54,54.5,55,55.5,56,56.5,57,57.5,58,58.5,59,59.5,60,60.5,61,61.5,62,62.5,63,63.5,64,64.5,65,65.5,66,66.5,67,67.5,68,68.5,69,69.5,70,70.5,71,71.5,72,72.5,73,73.5,74,74.5,75,75.5,76,76.5,77,77.5,78,78.5,79,79.5,80,80.5,81,81.5,82,82,82,81.5,81,80.5,80,79.5,79,78.5,78,77.5,77,76.5,76,75.5,75,74.5,74,73.5,73,72.5,72,71.5,71,70.5,70,69.5,69,68.5,68,67.5,67,66.5,66,65.5,65,64.5,64,63.5,63,62.5,62,61.5,61,60.5,60,59.5,59,58.5,58,57.5,57,56.5,56,55.5,55,54.5,54,53.5,53,52.5,52,51.5,51,50.5,50,49.5,49,48.5,48,47.5,47,46.5,46,45.5,45,44.5,44,43.5,43,42.5,42,41.5,41,40.5,40,39.5,39,38.5,38,37.5,37,36.5,36,35.5,35,34.5,34,33.5,33,32.5,32,31.5,31,30.5,30],"y":[0.163254997241656,0.161509048801643,0.15977402738351,0.158049808813782,0.156336262903692,0.154633253149142,0.152940636403935,0.151258262523792,0.149585973978371,0.14792360542825,0.146270983263481,0.144627925099971,0.142994239229559,0.141369724019166,0.139754167253935,0.138147345418683,0.136549022911373,0.134958951181604,0.133376867786331,0.131802495354167,0.130235540448608,0.128675692319469,0.127122621530581,0.125575978450472,0.124035391591262,0.122500465779352,0.120970780139689,0.119445885873431,0.117925303806686,0.116408521685705,0.114894991191496,0.11338412464429,0.111875291365719,0.110367813664061,0.10886096240561,0.107353952133318,0.105845935692679,0.104335998324765,0.102823151188026,0.10130632427465,0.0997843586952294,0.0982559983185399,0.0967198807736725,0.0951745278521648,0.0936183353919813,0.0920495627879193,0.0904663223605846,0.0888665689363945,0.0872480901540409,0.0856084982303436,0.0839452242041136,0.0822555160450273,0.0805364424789976,0.0787849049505314,0.0769976608130297,0.0751713615847591,0.0733026108686286,0.0713880471868818,0.0694244573235115,0.0674089254890347,0.0653390223044458,0.0632130347445543,0.0610302333080936,0.0587911655372793,0.0564979558610024,0.0541545817171963,0.0517670872370452,0.0493436915821146,0.0468947525970207,0.0444325598356556,0.0419709535854159,0.0395247941346084,0.0371093314022685,0.0347395420278078,0.0324295044669908,0.0301918722899362,0.0280374856467454,0.0259751369229348,0.0240114848558812,0.0221510956716358,0.0203965813903617,0.0187488035408598,0.0172071132393455,0.0157696038528305,0.0144333585724729,0.0131946810221498,0.0120493019134167,0.0109925585212299,0.0100195464343625,0.00912524479308292,0.00830461726706544,0.00755269154357953,0.00686462025471789,0.00623572620154791,0.00566153452721225,0.00513779421620217,0.00466049099715102,0.004225853429112,0.00383035367247806,0.00347070419379228,0.00314385143195331,0.00284696726188503,0.00257743892894111,0.00233285799053912,0.0021110086877599,0.0021110086877599,0.0667193789750311,0.067697925499589,0.0687027726733327,0.0697356237241667,0.0707983619068043,0.0718930743791429,0.0730220797360702,0.0741879598157001,0.0753935964997303,0.0766422143531836,0.0779374300906335,0.0792833100167774,0.0806844367682821,0.0821459868783389,0.0836738208888758,0.0852745879359381,0.0869558469111,0.088726206423668,0.090595485805846,0.0925748992442788,0.094677264685981,0.0969172383198078,0.0993115740055483,0.101879404811452,0.104642540620988,0.107625771416516,0.11085716030392,0.114368303822936,0.118194530214514,0.122375000254706,0.126952671756458,0.131974090002716,0.137488974146811,0.143549584873765,0.150209880192865,0.157524490395127,0.165547564183832,0.174331549748124,0.183925973322238,0.194376263960352,0.205722651595508,0.217999143139533,0.23123256518797,0.24544165579306,0.260636192128561,0.276816153189453,0.293970933056889,0.312078636819479,0.331105504893729,0.351005520196845,0.371720255300847,0.393179012970216,0.415299303547232,0.437987687169205,0.461140988904392,0.484647872135898,0.508390731827737,0.532247846821093,0.556095711191856,0.579811450872033,0.603275224623384,0.626372508782134,0.648996172896656,0.671048267591576,0.692441465185374,0.713100115797982,0.732960904778073,0.75197311923345,0.770098550578333,0.787311075127923,0.803595965240638,0.818948989236849,0.833375359665885,0.846888587132141,0.859509291694167,0.871264016742633,0.882184082121267,0.892304504836532,0.90166300760361,0.910299128123044,0.918253435635892,0.92556685608746,0.932280103152471,0.938433209370447,0.944065149591308,0.949213547693181,0.953914456954587,0.9582022043943,0.96210928970033,0.965666329939298,0.968902041973119,0.971843255335372,0.974514949176742,0.976940307734965,0.979140789590304,0.981136206713731,0.982944809991072,0.984583378507662,0.986067310404524,0.98741071357156,0.988626494830601,0.989726446587433,0.990721330203458,0.991620955561217,0.992434256479747],"name":"95% conf.","mode":"lines","type":"scatter","hoveron":"points","fill":"toself","line":{"fillcolor":"rgba(44,160,44,1)","color":"rgba(138,43,226, 0.05)","opacity":0.1},"fillcolor":"rgba(138,43,226, 0.2)","opacity":0.25,"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1}},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":{"render":[{"code":"function(el, x) { var ctConfig = crosstalk.var('plotlyCrosstalkOpts').set({\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1}}); }","data":null}]}}</script>
<hr />
<hr />
</div>
</div>
<div id="referencias-bibliograficas" class="section level3">
<h3>Referências Bibliográficas</h3>
<hr />
<p>AGRESTI, ALAN. <em>An Introduction to Categorical Data Analysis</em>. John Wiley &amp; Sons, second edition, 2007.</p>
<p>NOTAS DE AULA. <em>Análise de Dados Categorizados</em>. Curso de Graduação em Estatística, UnB, 2018.</p>
<p>R CORE TEAM. <em>R: A language and environment for statistical computing</em>. R Foundation for Statistical Computing, Vienna, Austria. URL <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>.</p>
<hr />
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
